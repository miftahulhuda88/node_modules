(function(){"use strict";var M={};(function(){M.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return M.d(n,{a:n}),n}})(),function(){M.d=function(e,n){for(var r in n)M.o(n,r)&&!M.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}}(),function(){M.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){M.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}();var W={};M.r(W),M.d(W,{AnErrorOccurred:function(){return en},AppInfoContext:function(){return oe},AppInfoProvider:function(){return ae},AppInfosContext:function(){return Pn},AppInfosProvider:function(){return Mn},AutoReloadOverlayBlockerContext:function(){return Ge},AutoReloadOverlayBlockerProvider:function(){return wt},CheckPagePermissions:function(){return En},CheckPermissions:function(){return bn},ConfirmDialog:function(){return Ie},ContentBox:function(){return In},ContentManagerEditViewDataManagerContext:function(){return Ft},CustomFieldsContext:function(){return Je},CustomFieldsProvider:function(){return Dt},DateTimePicker:function(){return Rn},DynamicTable:function(){return kn},EmptyBodyTable:function(){return bt},EmptyStateLayout:function(){return Et},FilterListURLQuery:function(){return Fe},FilterPopoverURLQuery:function(){return qn},Form:function(){return $n},GenericInput:function(){return Nn},GuidedTourContext:function(){return Ke},GuidedTourProvider:function(){return Ze},InjectionZone:function(){return Yn},LibraryContext:function(){return Xe},LibraryProvider:function(){return jt},Link:function(){return zn},LinkButton:function(){return Wn},LoadingIndicatorPage:function(){return yt},NoContent:function(){return Vn},NoMedia:function(){return Qn},NoPermissions:function(){return Hn},NotAllowedInput:function(){return Jn},NotificationsContext:function(){return ue},NotificationsProvider:function(){return st},OverlayBlockerContext:function(){return et},OverlayBlockerProvider:function(){return Bt},PageSizeURLQuery:function(){return Ye},PaginationURLQuery:function(){return ze},RBACContext:function(){return fe},RBACProviderContext:function(){return tn},ReactSelect:function(){return or},RelativeTime:function(){return ar},RemoveRoundedButton:function(){return Ar},SearchURLQuery:function(){return sr},SettingsPageTitle:function(){return lr},SortIcon:function(){return Tt},Status:function(){return ur},StopPropagation:function(){return co},StrapiAppContext:function(){return je},StrapiAppProvider:function(){return Mt},TrackingContext:function(){return Me},TrackingProvider:function(){return Pe},auth:function(){return z},contentManagementUtilRemoveFieldsFromData:function(){return jr},difference:function(){return Vr},findMatchingPermissions:function(){return vt},formatContentTypeData:function(){return Br},getAPIInnerErrors:function(){return Qr},getFetchClient:function(){return he},getFileExtension:function(){return Hr},getOtherInfos:function(){return Q},getType:function(){return le},getYupInnerErrors:function(){return Jr},hasPermissions:function(){return ve},normalizeAPIError:function(){return tt},onRowClick:function(){return lo},prefixFileUrlWithBackendUrl:function(){return Kr},prefixPluginTranslations:function(){return Zr},pxToRem:function(){return D},request:function(){return so},setHexOpacity:function(){return io},stopPropagation:function(){return Ht},to:function(){return Nr},translatedErrors:function(){return uo},useAPIErrorHandler:function(){return Cr},useAppInfo:function(){return Ce},useAppInfos:function(){return Cn},useAutoReloadOverlayBlocker:function(){return hr},useCMEditViewDataManager:function(){return dr},useCallbackRef:function(){return at},useClipboard:function(){return Mr},useCollator:function(){return Yt},useCustomFields:function(){return vr},useFetchClient:function(){return zt},useFilter:function(){return Pr},useFocusWhenNavigate:function(){return xr},useGuidedTour:function(){return yr},useLibrary:function(){return Er},useLockScroll:function(){return _r},useNotification:function(){return pe},useOverlayBlocker:function(){return Tr},usePersistentState:function(){return Lr},useQuery:function(){return kr},useQueryParams:function(){return U},useRBAC:function(){return Fr},useRBACProvider:function(){return X},useSelectionState:function(){return wr},useStrapiApp:function(){return Pt},useTracking:function(){return J},wrapAxiosInstance:function(){return fo}});var Zt=require("lodash/get"),V=M.n(Zt);const le=(e,n)=>V()(e,["attributes",n,"type"],""),Q=(e,n)=>V()(e,["attributes",...n],"");var d=require("react"),i=M.n(d),p=require("@strapi/design-system"),P=require("@strapi/icons"),Xt=require("prop-types"),t=M.n(Xt),x=require("react-intl");const ce=({content:e,...n})=>{const{formatMessage:r}=(0,x.useIntl)();return i().createElement(p.EmptyStateLayout,{icon:i().createElement(P.ExclamationMarkCircle,{width:"10rem"}),content:r({id:e.id,defaultMessage:e.defaultMessage},e.values),...n})};ce.defaultProps={content:{id:"anErrorOccurred",defaultMessage:"Woops! Something went wrong. Please, try again.",values:{}}},ce.propTypes={content:t().shape({id:t().string,defaultMessage:t().string,values:t().object})};var en=ce,N=require("react-router-dom"),Z=require("@strapi/design-system/v2");const at=e=>{const n=d.useRef(e);return d.useEffect(()=>{n.current=e}),d.useMemo(()=>(...r)=>n.current?.(...r),[])};/**
 * @preserve
 * @typedef {Object} NotificationLink
 * @property {string | import('react-intl').MessageDescriptor} label
 * @property {string | undefined} target
 * @property {string} url
 *//**
 * @preserve
 * @typedef {Object} NotificationConfig
 * @property {boolean | undefined} blockTransition
 * @property {NotificationLink} link
 * @property {string | import('react-intl').MessageDescriptor | undefined} message
 * @property {() => void | undefined} onClose
 * @property {number | undefined} timeout
 * @property {string | import('react-intl').MessageDescriptor | undefined} title
 * @property {"info" | "warning" | "softWarning" | "success" | undefined} type
 *//**
 * @preserve
 * @typedef {Object} NotificationsContextValue
 * @property {(config: NotificationConfig) => void} toggleNotification – Toggles a notification, wrapped in `useCallback` for a stable identity.
 */const ue=d.createContext(),st=({children:e})=>{const n=d.useRef(0),[r,o]=d.useState([]),a=d.useCallback(({type:s,message:u,link:m,timeout:f,blockTransition:g,onClose:h,title:v})=>{o(y=>[...y,{id:n.current++,type:s,message:u,link:m,timeout:f,blockTransition:g,onClose:h,title:v}])},[]),l=d.useCallback(s=>{o(u=>u.filter(m=>m.id!==s))},[]),c=d.useMemo(()=>({toggleNotification:a}),[a]);return d.createElement(ue.Provider,{value:c},d.createElement(p.Flex,{left:"50%",marginLeft:"-250px",position:"fixed",direction:"column",alignItems:"stretch",gap:2,top:`${46/16}rem`,width:`${500/16}rem`,zIndex:10},r.map(s=>d.createElement(de,{key:s.id,...s,clearNotification:l}))),e)};st.propTypes={children:t().node.isRequired};const de=({id:e,clearNotification:n,message:r,link:o,type:a,onClose:l,timeout:c,blockTransition:s,title:u})=>{const{formatMessage:m}=(0,x.useIntl)(),f=at(l),g=d.useCallback(()=>{f(),n(e)},[n,e,f]);d.useEffect(()=>{if(!s){const y=setTimeout(()=>{g()},c);return()=>{clearTimeout(y)}}},[s,g,c]);let h,v;return a==="info"?(h="default",v=m({id:"notification.default.title",defaultMessage:"Information:"})):a==="warning"?(h="danger",v=m({id:"notification.warning.title",defaultMessage:"Warning:"})):a==="softWarning"?(h="warning",v=m({id:"notification.warning.title",defaultMessage:"Warning:"})):(h="success",v=m({id:"notification.success.title",defaultMessage:"Success:"})),u&&(v=typeof u=="string"?u:m({id:u?.id||u,defaultMessage:u?.defaultMessage||u?.id||u},u?.values)),d.createElement(p.Alert,{action:o?d.createElement(Z.Link,{href:o.url,isExternal:!0},m({id:o.label?.id||o.label,defaultMessage:o.label?.defaultMessage||o.label?.id||o.label})):void 0,onClose:g,closeLabel:m({id:"global.close",defaultMessage:"Close"}),title:v,variant:h},m({id:r?.id||r,defaultMessage:r?.defaultMessage||r?.id||r},r?.values))};de.defaultProps={blockTransition:!1,link:void 0,onClose:void 0,message:{id:"notification.success.saved",defaultMessage:"Saved"},timeout:2500,title:void 0,type:"success"},de.propTypes={id:t().number.isRequired,clearNotification:t().func.isRequired,message:t().oneOfType([t().string,t().shape({id:t().string.isRequired,defaultMessage:t().string,values:t().object})]),link:t().shape({target:t().string,url:t().string.isRequired,label:t().oneOfType([t().string,t().shape({id:t().string.isRequired,defaultMessage:t().string,values:t().object})]).isRequired}),type:t().string,onClose:t().func,timeout:t().number,blockTransition:t().bool,title:t().oneOfType([t().string,t().shape({id:t().string.isRequired,defaultMessage:t().string,values:t().object})])};/**
 * @preserve
 * @description Returns an object to interact with the notification
 * system. The callbacks are wrapped in `useCallback` for a stable
 * identity.
 *
 * @returns {NotificationsContextValue}
 *
 * @example
 * ```tsx
 * import { useNotification } from '@strapi/helper-plugin';
 *
 * const MyComponent = () => {
 *  const { toggleNotification } = useNotification();
 *
 *  return <button onClick={() => toggleNotification({ message: 'Hello world!' })}>Click me</button>;
 */const pe=()=>d.useContext(ue).toggleNotification;/**
 * @preserve
 * @typedef {Object} Permission
 * @property {string} action
 * @property {unknown[]} conditions
 * @property {number} id
 * @property {Record<string, unknown>} properties
 * @property {string} subject
 *//**
 * @preserve
 * @typedef {import('react-query').QueryObserverBaseResult<Permission[]>['refetch']} RefetchPermissionsFn
 *//**
 * @preserve
 * @typedef {Object} RBACContextValue
 * @property {Permission[]} allPermissions – The permissions of the current user.
 * @property {RefetchPermissionsFn} refetchPermissions
 *//**
 * @preserve
 * @type {React.Context<RBACContextValue>}
 */const fe=d.createContext(),tn=fe;/**
 * @preserve
 * @returns {RBACContextValue}
 */const X=()=>d.useContext(fe);var nn=require("lodash/isEmpty"),ee=M.n(nn),rn=require("lodash/pickBy"),on=M.n(rn),an=require("lodash/transform"),it=M.n(an),lt=require("axios"),ct=M.n(lt),sn=require("lodash/isNil"),ut=M.n(sn);const te="jwtToken",me="userInfo",dt="GUIDED_TOUR_CURRENT_STEP",pt="GUIDED_TOUR_COMPLETED_STEPS",ft="GUIDED_TOUR_SKIPPED",mt="STRAPI_THEME",gt="STRAPI_UPLOAD_MODAL_VIEW",ht="STRAPI_UPLOAD_LIBRARY_VIEW",ge=JSON.parse,H=JSON.stringify,A={clear(e){return localStorage&&localStorage.getItem(e)?localStorage.removeItem(e):sessionStorage&&sessionStorage.getItem(e)?sessionStorage.removeItem(e):null},clearAppStorage(){if(localStorage){const e=A.get("videos"),n=A.get("onboarding"),r=A.get("STRAPI_UPDATE_NOTIF"),o=localStorage.getItem("strapi-admin-language"),a=A.get(dt),l=A.get(pt),c=ge(localStorage.getItem(ft)),s=localStorage.getItem(mt),u=localStorage.getItem(ht),m=localStorage.getItem(gt);localStorage.clear(),localStorage.setItem("videos",JSON.stringify(e)),localStorage.setItem("onboarding",n),localStorage.setItem("STRAPI_UPDATE_NOTIF",r),localStorage.setItem("strapi-admin-language",o),localStorage.setItem(dt,H(a)),localStorage.setItem(pt,H(l)),localStorage.setItem(ft,H(c)),localStorage.setItem(mt,s),!ut()(u)&&localStorage.setItem(ht,u),!ut()(m)&&localStorage.setItem(gt,m)}sessionStorage&&sessionStorage.clear()},clearToken(e=te){return A.clear(e)},clearUserInfo(e=me){return A.clear(e)},get(e){return localStorage&&localStorage.getItem(e)?ge(localStorage.getItem(e))||null:sessionStorage&&sessionStorage.getItem(e)&&ge(sessionStorage.getItem(e))||null},getToken(e=te){return A.get(e)},getUserInfo(e=me){return A.get(e)},set(e,n,r){return ee()(e)?null:r&&localStorage?localStorage.setItem(n,H(e)):sessionStorage?sessionStorage.setItem(n,H(e)):null},setToken(e="",n=!1,r=te){return A.set(e,r,n)},setUserInfo(e="",n=!1,r=me){return A.set(e,r,n)},updateToken(e=""){const n=localStorage&&localStorage.getItem(te);return A.setToken(e,n)}};var z=A,ne=require("qs"),ln=M.n(ne);const cn=async e=>(e.headers={Authorization:`Bearer ${z.getToken()}`},e),un=e=>Promise.reject(e),dn=e=>e,pn=e=>{throw e?.response?.status===401&&(z.clearAppStorage(),window.location.reload()),e},fn=e=>{e.interceptors.request.use(cn,un),e.interceptors.response.use(dn,pn)};var G=(()=>{const e=ct().create({headers:{Accept:"application/json","Content-Type":"application/json"},paramsSerializer:n=>ln().stringify(n,{encode:!1})});return fn(e),e})();const mn=e=>typeof e=="string"&&e.charAt(0)!=="/"?`/${e}`:e,gn=e=>new RegExp("^(?:[a-z+]+:)?//","i").test(e),re=e=>gn(e)?e:mn(e);var he=(e={})=>(G.defaults.baseURL=window.strapi.backendURL,{get:(n,r)=>G.get(re(n),{...e,...r}),put:(n,r,o)=>G.put(re(n),r,{...e,...o}),post:(n,r,o)=>G.post(re(n),r,{...e,...o}),del:(n,r)=>G.delete(re(n),{...e,...r})});const vt=(e,n)=>it()(e,(r,o)=>{n.find(l=>l.action===o.action&&l.subject===o.subject)&&r.push(o)},[]),hn=e=>e.map(n=>on()(n,(r,o)=>["action","subject"].includes(o)&&!ee()(r))),vn=e=>!ee()(e)&&e.every(n=>!ee()(n.conditions));var ve=async(e,n,r)=>{if(!n||!n.length)return!0;const o=vt(e,n);if(vn(o)){let a=!1;try{const{data:{data:l}}=await he().post("/admin/permissions/check",{permissions:hn(o)},{signal:r});a=l.every(c=>c===!0)}catch(l){console.error("Error while checking permissions",l)}return a}return o.length>0},ye=require("styled-components"),w=M.n(ye);const yn=w()(p.Flex)`
  height: 100vh;
`,Ee=({"data-testid":e,children:n})=>i().createElement(yn,{justifyContent:"space-around","data-testid":e},i().createElement(p.Loader,null,n));Ee.defaultProps={"data-testid":"loader",children:"Loading content."},Ee.propTypes={"data-testid":t().string,children:t().string};var yt=Ee;const be=({permissions:e,children:n})=>{const r=new AbortController,{signal:o}=r,{allPermissions:a}=X(),l=pe(),[c,s]=(0,d.useState)({isLoading:!0,canAccess:!1}),u=(0,d.useRef)(!0);return(0,d.useEffect)(()=>((async()=>{try{s({isLoading:!0,canAccess:!1});const f=await ve(a,e,o);u.current&&s({isLoading:!1,canAccess:f})}catch(f){u.current&&(console.error(f),l({type:"warning",message:{id:"notification.error"}}),s({isLoading:!1}))}})(),()=>{r.abort()}),[e]),(0,d.useEffect)(()=>()=>{u.current=!1},[]),c.isLoading?i().createElement(yt,null):c.canAccess?n:i().createElement(N.Redirect,{to:"/"})};be.defaultProps={permissions:[]},be.propTypes={children:t().node.isRequired,permissions:t().array};var En=be;const Te=({permissions:e,children:n})=>{const{allPermissions:r}=X(),o=pe(),[a,l]=(0,d.useState)({isLoading:!0,canAccess:!1}),c=(0,d.useRef)(!0),s=new AbortController,{signal:u}=s;return(0,d.useEffect)(()=>((async()=>{try{l({isLoading:!0,canAccess:!1});const f=await ve(r,e,u);c.current&&l({isLoading:!1,canAccess:f})}catch(f){c.current&&(console.error(f),o({type:"warning",message:{id:"notification.error"}}),l({isLoading:!1}))}})(),()=>{s.abort()}),[e]),(0,d.useEffect)(()=>()=>{c.current=!1},[]),a.isLoading||!a.canAccess?null:n};Te.defaultProps={permissions:[]},Te.propTypes={children:t().node.isRequired,permissions:t().array};var bn=Te;const Se=({bodyText:e,iconRightButton:n,iconBody:r,isConfirmButtonLoading:o,leftButtonText:a,onToggleDialog:l,onConfirm:c,rightButtonText:s,title:u,variantRightButton:m,...f})=>{const{formatMessage:g}=(0,x.useIntl)();return i().createElement(p.Dialog,{onClose:l,title:g({id:u.id,defaultMessage:u.defaultMessage}),labelledBy:"confirmation",describedBy:"confirm-description",...f},i().createElement(p.DialogBody,{icon:r},i().createElement(p.Flex,{direction:"column",alignItems:"stretch",gap:2},i().createElement(p.Flex,{justifyContent:"center"},i().createElement(p.Typography,{variant:"omega",id:"confirm-description"},g({id:e.id,defaultMessage:e.defaultMessage}))))),i().createElement(p.DialogFooter,{startAction:i().createElement(p.Button,{onClick:l,variant:"tertiary"},g({id:a.id,defaultMessage:a.defaultMessage})),endAction:i().createElement(p.Button,{onClick:c,variant:m,startIcon:n,id:"confirm-delete",loading:o},g({id:s.id,defaultMessage:s.defaultMessage}))}))};Se.defaultProps={bodyText:{id:"components.popUpWarning.message",defaultMessage:"Are you sure you want to delete this?"},iconBody:i().createElement(P.ExclamationMarkCircle,null),iconRightButton:i().createElement(P.Trash,null),isConfirmButtonLoading:!1,leftButtonText:{id:"app.components.Button.cancel",defaultMessage:"Cancel"},rightButtonText:{id:"app.components.Button.confirm",defaultMessage:"Confirm"},title:{id:"app.components.ConfirmDialog.title",defaultMessage:"Confirmation"},variantRightButton:"danger-light"},Se.propTypes={bodyText:t().shape({id:t().string,defaultMessage:t().string}),iconBody:t().node,iconRightButton:t().node,isConfirmButtonLoading:t().bool,onConfirm:t().func.isRequired,onToggleDialog:t().func.isRequired,leftButtonText:t().shape({id:t().string,defaultMessage:t().string}),rightButtonText:t().shape({id:t().string,defaultMessage:t().string}),title:t().shape({id:t().string,defaultMessage:t().string}),variantRightButton:t().string};var Ie=Se;const Tn=w()(p.Flex)`
  margin-right: ${({theme:e})=>e.spaces[6]};

  svg {
    width: ${32/16}rem;
    height: ${32/16}rem;
  }
`,Sn=w()(p.Typography)`
  word-break: break-all;
`,Re=({title:e,subtitle:n,icon:r,iconBackground:o,endAction:a,titleEllipsis:l})=>(e.length>70&&l&&(e=`${e.substring(0,70)}...`),i().createElement(p.Flex,{shadow:"tableShadow",hasRadius:!0,padding:6,background:"neutral0"},i().createElement(Tn,{background:o,hasRadius:!0,padding:3},r),i().createElement(p.Flex,{direction:"column",alignItems:"stretch",gap:a?0:1},i().createElement(p.Flex,null,i().createElement(Sn,{fontWeight:"semiBold",variant:"pi"},e),a),i().createElement(p.Typography,{textColor:"neutral600"},n))));Re.defaultProps={titleEllipsis:!1,title:void 0,subtitle:void 0,icon:void 0,iconBackground:void 0,endAction:void 0},Re.propTypes={titleEllipsis:t().bool,title:t().string,subtitle:t().string,icon:t().node,iconBackground:t().string,endAction:t().node};var In=Re;function Rn(e){return(0,d.useEffect)(()=>{},[]),i().createElement(p.DateTimePicker,{...e})}/**
 * @preserve
 * @typedef {Object} AppInfoContextValue
 * @property {boolean | undefined} autoReload
 * @property {boolean | undefined} communityEdition
 * @property {string | undefined} currentEnvironment
 * @property {Record<string, string>} dependencies
 * @property {string | null} latestStrapiReleaseTag
 * @property {string | undefined} nodeVersion
 * @property {string | undefined} projectId
 * @property {(name: string) => void} setUserDisplayName
 * @property {boolean} shouldUpdateStrapi
 * @property {string | undefined} strapiVersion
 * @property {boolean | undefined} useYarn
 * @property {string} userDisplayName
 * @property {string | null} userId
 *
 *//**
 * @preserve
 * @type {React.Context<AppInfoContextValue>}
 */const oe=d.createContext(),ae=({children:e,autoReload:n,communityEdition:r,currentEnvironment:o,dependencies:a,latestStrapiReleaseTag:l,nodeVersion:c,projectId:s,setUserDisplayName:u,shouldUpdateStrapi:m,strapiVersion:f,useYarn:g,userDisplayName:h,userId:v})=>{const y=d.useMemo(()=>({autoReload:n,communityEdition:r,currentEnvironment:o,dependencies:a,latestStrapiReleaseTag:l,nodeVersion:c,projectId:s,setUserDisplayName:u,shouldUpdateStrapi:m,strapiVersion:f,useYarn:g,userDisplayName:h,userId:v}),[n,r,o,a,l,c,s,u,m,f,g,h,v]);return d.createElement(oe.Provider,{value:y},e)};ae.defaultProps={autoReload:void 0,communityEdition:void 0,currentEnvironment:void 0,dependencies:void 0,latestStrapiReleaseTag:void 0,nodeVersion:void 0,projectId:void 0,strapiVersion:void 0,useYarn:void 0,userId:null},ae.propTypes={children:t().node.isRequired,autoReload:t().bool,communityEdition:t().bool,currentEnvironment:t().string,dependencies:t().object,latestStrapiReleaseTag:t().string,nodeVersion:t().string,projectId:t().string,setUserDisplayName:t().func.isRequired,shouldUpdateStrapi:t().bool.isRequired,strapiVersion:t().string,useYarn:t().bool,userDisplayName:t().string.isRequired,userId:t().string};/**
 * @preserve
 * @returns {AppInfoContextValue}
 */const Ce=()=>d.useContext(oe);/**
 * @preserve
 * @deprecated use useAppInfo instead
 */const Cn=Ce;/**
 * @preserve
 * @deprecated use AppInfoProvider instead
 */const Mn=ae;/**
 * @preserve
 * @deprecated use AppInfoContext instead
 */const Pn=oe;/**
 * @preserve
 * @typedef {Object} TelemetryProperties
 * @property {boolean} useTypescriptOnServer
 * @property {boolean} useTypescriptOnAdmin
 * @property {boolean} isHostedOnStrapiCloud
 * @property {number} numberOfAllContentTypes
 * @property {number} numberOfComponents
 * @property {number} numberOfDynamicZones
 *//**
 * @preserve
 * @typedef {Object} TrackingContextValue
 * @property {string | boolean} uuid
 * @property {string | undefined} deviceId
 * @property {TelemetryProperties | undefined} telemetryProperties
 *//**
 * @preserve
 * @type {React.Context<TrackingContextValue>}
 */const Me=d.createContext({uuid:!1,deviceId:void 0,telemetryProperties:void 0}),Pe=({value:e,children:n})=>{const r=d.useMemo(()=>e,[e]);return d.createElement(Me.Provider,{value:r},n)};Pe.propTypes={children:t().node.isRequired,value:t().shape({uuid:t().oneOfType([t().string,t().bool]),deviceId:t().string,telemetryProperties:t().object})},Pe.defaultProps={value:{deviceId:void 0,uuid:!1,telemetryProperties:void 0}};/**
 * @preserve
 * @typedef {(event: string, properties: Record<string, any>) => Promise<void>} TrackUsageFn
 *//**
 * @preserve
 * @description Used to send amplitude events to the Strapi Tracking hub.
 *
 * @returns {{trackUsage: TrackUsageFn}}
 *
 * @example
 * ```tsx
 * import { useTracking } from '@strapi/helper-plugin';
 *
 * const MyComponent = () => {
 *  const { trackUsage } = useTracking();
 *
 *  const handleClick = () => {
 *   trackUsage('my-event', { myProperty: 'myValue' });
 *  }
 *
 *  return <button onClick={handleClick}>Send Event</button>
 * }
 * ```
 */const J=()=>{const{uuid:e,telemetryProperties:n,deviceId:r}=d.useContext(Me),a=Ce()?.userId;return{trackUsage:d.useCallback(async(c,s)=>{try{if(e&&!window.strapi.telemetryDisabled)return await ct().post("https://analytics.strapi.io/api/v2/track",{event:c,userId:a,deviceId:r,eventProperties:{...s},userProperties:{},groupProperties:{...n,projectId:e,projectType:window.strapi.projectType}},{headers:{"Content-Type":"application/json","X-Strapi-Event":c}})}catch{}return null},[r,n,a,e])}};var U=e=>{const{search:n}=(0,N.useLocation)(),{push:r}=(0,N.useHistory)(),o=(0,d.useMemo)(()=>{const l=n.substring(1);return n?(0,ne.parse)(l):e},[n,e]),a=(0,d.useCallback)((l,c="push")=>{let s={...o};c==="remove"?Object.keys(l).forEach(u=>{delete s[u]}):s={...o,...l},r({search:(0,ne.stringify)(s,{encode:!1})})},[r,o]);return[{query:o,rawQuery:n},a]};const xn={document:P.EmptyDocuments,media:P.EmptyPictures,permissions:P.EmptyPermissions},xe=({action:e,content:n,hasRadius:r,icon:o,shadow:a})=>{const l=xn[o],{formatMessage:c}=(0,x.useIntl)();return i().createElement(p.EmptyStateLayout,{action:e,content:c({id:n.id,defaultMessage:n.defaultMessage},n.values),hasRadius:r,icon:i().createElement(l,{width:"10rem"}),shadow:a})};xe.defaultProps={action:void 0,content:{id:"app.components.EmptyStateLayout.content-document",defaultMessage:"No content found",values:{}},hasRadius:!0,icon:"document",shadow:"tableShadow"},xe.propTypes={action:t().any,content:t().shape({id:t().string,defaultMessage:t().string,values:t().object}),hasRadius:t().bool,icon:t().oneOf(["document","media","permissions"]),shadow:t().string};var Et=xe;const _e=({colSpan:e,isLoading:n,...r})=>n?i().createElement(p.Tbody,null,i().createElement(p.Tr,null,i().createElement(p.Td,{colSpan:e},i().createElement(p.Flex,{justifyContent:"center"},i().createElement(p.Box,{padding:11,background:"neutral0"},i().createElement(p.Loader,null,"Loading content...")))))):i().createElement(p.Tbody,null,i().createElement(p.Tr,null,i().createElement(p.Td,{colSpan:e},i().createElement(Et,{...r,hasRadius:!1,shadow:""}))));_e.defaultProps={action:void 0,colSpan:1,content:void 0,icon:void 0,isLoading:!1},_e.propTypes={action:t().any,colSpan:t().number,content:t().shape({id:t().string,defaultMessage:t().string,values:t().object}),icon:t().oneOf(["document","media","permissions"]),isLoading:t().bool};var bt=_e;const _n={isUp:!0},Le=w()(P.CarretDown).withConfig({shouldForwardProp:(e,n)=>!_n[e]&&n(e)})`
  transform: ${({isUp:e})=>`rotate(${e?"180":"0"}deg)`};
`;Le.defaultProps={isUp:!1},Le.propTypes={isUp:t().bool};var Tt=Le;const ke=({areAllEntriesSelected:e,entriesToDelete:n,headers:r,onSelectAll:o,withMainAction:a,withBulkActions:l})=>{const{formatMessage:c}=(0,x.useIntl)(),[{query:s},u]=U(),m=s?.sort||"",[f,g]=m.split(":"),h=!e&&n.length>0;return i().createElement(p.Thead,null,i().createElement(p.Tr,null,a&&i().createElement(p.Th,null,i().createElement(p.BaseCheckbox,{"aria-label":c({id:"global.select-all-entries",defaultMessage:"Select all entries"}),checked:e,indeterminate:h,onChange:o})),r.map(({fieldSchema:v,name:y,metadatas:{sortable:T,label:E,mainField:I}})=>{let R=f===y;const b=g==="ASC";v?.type==="relation"&&I&&(R=f===`${y.split(".")[0]}[${I.name}]`);const _=c({id:"components.TableHeader.sort",defaultMessage:"Sort on {label}"},{label:E}),k=(L=!0)=>{if(T&&L){let C=y;v?.type==="relation"&&I&&(C=`${y.split(".")[0]}[${I.name}]`),u({sort:`${C}:${R&&g==="ASC"?"DESC":"ASC"}`})}};return i().createElement(p.Th,{key:y,action:R&&i().createElement(p.IconButton,{label:_,onClick:k,icon:R&&i().createElement(Tt,{isUp:b}),noBorder:!0})},i().createElement(p.Tooltip,{label:T?_:E},i().createElement(p.Typography,{textColor:"neutral600",as:!R&&T?"button":"span",label:E,onClick:()=>k(!R),variant:"sigma"},E)))}),l&&i().createElement(p.Th,null,i().createElement(p.VisuallyHidden,null,c({id:"global.actions",defaultMessage:"Actions"})))))};ke.defaultProps={areAllEntriesSelected:!1,entriesToDelete:[],headers:[],withBulkActions:!1,withMainAction:!1},ke.propTypes={areAllEntriesSelected:t().bool,entriesToDelete:t().arrayOf(t().oneOfType([t().string,t().number])),headers:t().array,onSelectAll:t().func.isRequired,withBulkActions:t().bool,withMainAction:t().bool};var Ln=ke;const Oe=({action:e,children:n,contentType:r,components:o,footer:a,headers:l,isLoading:c,onConfirmDeleteAll:s,onConfirmDelete:u,onOpenDeleteAllModalTrackedEvent:m,rows:f,withBulkActions:g,withMainAction:h,renderBulkActionsBar:v,...y})=>{const[T,E]=(0,d.useState)([]),[I,R]=(0,d.useState)(!1),[b,_]=(0,d.useState)(!1),[k,L]=(0,d.useState)(!1),[{query:C}]=U(),{formatMessage:j}=(0,x.useIntl)(),{trackUsage:Y}=J(),O=f.length+1,F=l.length+(g?1:0)+(h?1:0),B=C?.filters!==void 0,S=T.length===f.length&&f.length>0,q=B?{id:"content-manager.components.TableEmpty.withFilters",defaultMessage:"There are no {contentType} with the applied filters...",values:{contentType:r}}:void 0,K=async()=>{try{L(!0),await s(T),se(),E([]),L(!1)}catch{L(!1),se()}},rt=async()=>{try{L(!0),await u(T[0]),ie(),L(!1)}catch{L(!1),ie()}},ot=()=>{E(S?[]:f.map($=>$.id))},se=()=>{!I&&m&&Y(m),R($=>!$)},ie=()=>{b&&E([]),_($=>!$)},mo=$=>{E([$]),ie()},go=({name:$,value:Eo})=>{E(Kt=>Eo?Kt.concat($):Kt.filter(bo=>bo!==$))},ho=()=>{E([])},vo=o?.ConfirmDialogDeleteAll?o.ConfirmDialogDeleteAll:Ie,yo=o?.ConfirmDialogDelete?o.ConfirmDialogDelete:Ie;return i().createElement(i().Fragment,null,T.length>0&&i().createElement(p.Flex,{gap:3},i().createElement(p.Typography,{variant:"omega",textColor:"neutral500"},j({id:"content-manager.components.TableDelete.label",defaultMessage:"{number, plural, one {# entry} other {# entries}} selected"},{number:T.length})),v?v({selectedEntries:T,clearSelectedEntries:ho}):i().createElement(p.Button,{onClick:se,startIcon:i().createElement(P.Trash,null),size:"L",variant:"danger-light"},j({id:"global.delete",defaultMessage:"Delete"}))),i().createElement(p.Table,{colCount:F,rowCount:O,footer:a},i().createElement(Ln,{areAllEntriesSelected:S,entriesToDelete:T,headers:l,onSelectAll:ot,withMainAction:h,withBulkActions:g}),!f.length||c?i().createElement(bt,{colSpan:F,content:q,isLoading:c,action:e}):d.Children.toArray(n).map($=>(0,d.cloneElement)($,{entriesToDelete:T,onClickDelete:mo,onSelectRow:go,headers:l,rows:f,withBulkActions:g,withMainAction:h,...y}))),i().createElement(vo,{isConfirmButtonLoading:k,onConfirm:K,onToggleDialog:se,isOpen:I}),i().createElement(yo,{isConfirmButtonLoading:k,onConfirm:rt,onToggleDialog:ie,isOpen:b}))};Oe.defaultProps={action:void 0,children:void 0,components:{ConfirmDialogDeleteAll:void 0,ConfirmDialogDelete:void 0},footer:void 0,headers:[],isLoading:!1,onConfirmDeleteAll(){},onConfirmDelete(){},onOpenDeleteAllModalTrackedEvent:void 0,rows:[],withBulkActions:!1,withMainAction:!1,renderBulkActionsBar:void 0},Oe.propTypes={action:t().node,children:t().node,contentType:t().string.isRequired,components:t().shape({ConfirmDialogDelete:t().oneOfType([t().func,t().element]),ConfirmDialogDeleteAll:t().oneOfType([t().func,t().element])}),footer:t().node,headers:t().arrayOf(t().shape({cellFormatter:t().func,key:t().string.isRequired,metadatas:t().shape({label:t().string.isRequired,sortable:t().bool}).isRequired,name:t().string.isRequired})),isLoading:t().bool,onConfirmDeleteAll:t().func,onConfirmDelete:t().func,onOpenDeleteAllModalTrackedEvent:t().string,rows:t().array,withBulkActions:t().bool,withMainAction:t().bool,renderBulkActionsBar:t().func};var kn=Oe;const St=({attribute:e,filter:n,onClick:r,operator:o,value:a})=>{const{formatMessage:l,formatDate:c,formatTime:s,formatNumber:u}=(0,x.useIntl)(),m=()=>{r(n)},{fieldSchema:f}=e,g=f?.mainField?.schema?.type||f.type;let h=a;if(g==="date"&&(h=c(a,{dateStyle:"full"})),g==="datetime"&&(h=c(a,{dateStyle:"full",timeStyle:"short"})),g==="time"){const[y,T]=a.split(":"),E=new Date;E.setHours(y),E.setMinutes(T),h=s(E,{numeric:"auto",style:"short"})}["float","integer","biginteger","decimal"].includes(g)&&(h=u(a)),e.metadatas.customInput&&e.metadatas.options&&(h=e.metadatas.options.find(T=>T.customValue===a)?.label||a);const v=`${e.metadatas.label||e.name} ${l({id:`components.FilterOptions.FILTER_TYPES.${o}`,defaultMessage:o})} ${o!=="$null"&&o!=="$notNull"?h:""}`;return i().createElement(p.Box,{padding:1},i().createElement(p.Tag,{onClick:m,icon:i().createElement(P.Cross,null)},v))};St.propTypes={attribute:t().shape({name:t().string.isRequired,fieldSchema:t().object.isRequired,metadatas:t().shape({label:t().string.isRequired,options:t().array,customInput:t().func}).isRequired}).isRequired,filter:t().object.isRequired,onClick:t().func.isRequired,operator:t().string.isRequired,value:t().string.isRequired};var It=St;const Fe=({filtersSchema:e})=>{const[{query:n},r]=U(),o=a=>{const l=n.filters.$and.filter(c=>{const s=Object.keys(a)[0],u=Object.keys(a[s])[0],m=a[s][u];return c[s]?.[u]!==m});r({filters:{$and:l},page:1})};return n?.filters?.$and.map((a,l)=>{const c=Object.keys(a)[0],s=e.find(({name:g})=>g===c);if(!s)return null;if(s.fieldSchema.type==="relation"){const g=s.fieldSchema.mainField.name,h=a[c][g],v=Object.keys(h)[0],y=h[v];return i().createElement(It,{key:`${c}-${l}`,attribute:s,filter:a,onClick:o,operator:v,value:y})}const u=a[c],m=Object.keys(u)[0],f=u[m];return i().createElement(It,{key:`${c}-${l}`,attribute:s,filter:a,onClick:o,operator:m,value:f})})||null};Fe.defaultProps={filtersSchema:[]},Fe.propTypes={filtersSchema:t().arrayOf(t().shape({name:t().string.isRequired,metadatas:t().shape({label:t().string}),fieldSchema:t().shape({type:t().string,mainField:t().shape({name:t().string,type:t().string})})}))};var On=require("date-fns/formatISO"),Rt=M.n(On);const qe=({label:e,onChange:n,options:r,type:o,value:a})=>{const{formatMessage:l}=(0,x.useIntl)();return o==="boolean"?i().createElement(p.Select,{"aria-label":e,onChange:n,value:a},i().createElement(p.Option,{value:"true"},"true"),i().createElement(p.Option,{value:"false"},"false")):o==="date"?i().createElement(p.DatePicker,{clearLabel:l({id:"clearLabel",defaultMessage:"Clear"}),ariaLabel:e,name:"datepicker",onChange:c=>n(Rt()(c,{representation:"date"})),onClear:()=>n(null),selectedDate:a?new Date(a):void 0,selectedDateLabel:c=>`Date picker, current is ${c}`}):o==="datetime"?i().createElement(p.DateTimePicker,{clearLabel:l({id:"clearLabel",defaultMessage:"Clear"}),ariaLabel:e,name:"datetimepicker",onChange:c=>n(c?c.toISOString():null),onClear:()=>n(null),value:a?new Date(a):void 0,selectedDateLabel:c=>`Date picker, current is ${c}`,selectButtonTitle:l({id:"selectButtonTitle",defaultMessage:"Select"})}):o==="enumeration"?i().createElement(p.Select,{"aria-label":e,onChange:n,value:a},r.map(c=>i().createElement(p.Option,{key:c,value:c},c))):["float","integer","biginteger","decimal"].includes(o)?i().createElement(p.NumberInput,{"aria-label":e,name:"filter-value",onValueChange:n,value:a||0}):o==="time"?i().createElement(p.TimePicker,{"aria-label":e,onClear:()=>n(""),onChange:n,value:a,clearLabel:"Clear the selected time picker value"}):i().createElement(p.Field,null,i().createElement(p.FieldInput,{"aria-label":l({id:"app.utils.filter-value",defaultMessage:"Filter value"}),onChange:({target:{value:c}})=>n(c),value:a,size:"M"}))};qe.defaultProps={label:"",options:[],value:""},qe.propTypes={label:t().string,onChange:t().func.isRequired,options:t().arrayOf(t().string),type:t().string.isRequired,value:t().any};var Fn=qe,we=({fieldSchema:{type:e,mainField:n}})=>{switch(n?.schema?.type??e){case"email":case"text":case"enumeration":case"string":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$contains",defaultMessage:"contains (sensitive)"},value:"$contains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notContains",defaultMessage:"not contains (sensitive)"},value:"$notContains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$startsWith",defaultMessage:"starts with"},value:"$startsWith"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$endsWith",defaultMessage:"ends with"},value:"$endsWith"}];case"float":case"integer":case"biginteger":case"decimal":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gt",defaultMessage:"is greater than"},value:"$gt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gte",defaultMessage:"is greater than or equal to"},value:"$gte"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lt",defaultMessage:"is less than"},value:"$lt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lte",defaultMessage:"is less than or equal to"},value:"$lte"}];case"time":case"date":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$contains",defaultMessage:"contains (sensitive)"},value:"$contains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notContains",defaultMessage:"not contains (sensitive)"},value:"$notContains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gt",defaultMessage:"is greater than"},value:"$gt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gte",defaultMessage:"is greater than or equal to"},value:"$gte"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lt",defaultMessage:"is less than"},value:"$lt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lte",defaultMessage:"is less than or equal to"},value:"$lte"}];case"datetime":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gt",defaultMessage:"is greater than"},value:"$gt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gte",defaultMessage:"is greater than or equal to"},value:"$gte"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lt",defaultMessage:"is less than"},value:"$lt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lte",defaultMessage:"is less than or equal to"},value:"$lte"}];default:return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"}]}};const $e=({displayedFilters:e,isVisible:n,onBlur:r,onToggle:o,source:a})=>{const[{query:l},c]=U(),{formatMessage:s}=(0,x.useIntl)(),{trackUsage:u}=J(),m={fieldSchema:{type:"string"}},[f,g]=(0,d.useState)({name:e[0]?.name||"",filter:we(e[0]||m)[0].value,value:""});if(!n||e.length===0)return null;const h=b=>{const _=e.find(Y=>Y.name===b),{fieldSchema:{type:k,options:L}}=_;let C="";k==="boolean"&&(C="true"),k==="enumeration"&&(C=L?.[0]);const j=we(_)[0].value;g({name:b,filter:j,value:C})},v=b=>{b.preventDefault();const _=l?.filters?.$and.find(k=>k[f.name]&&k[f.name]?.[f.filter]===f.value)!==void 0;if(f.value&&!_){let k={[f.name]:{[f.filter]:f.value}};const L=e.find(({name:Y})=>Y===f.name),C=L.fieldSchema.type;L.trackedEvent&&u(L.trackedEvent.name,L.trackedEvent.properties),C==="relation"&&(k={[f.name]:{[L.fieldSchema.mainField.name]:{[f.filter]:f.value}}});const j=[...l?.filters?.$and||[],k];c({filters:{$and:j},page:1})}o()},y=b=>{if(b==="$null"||b==="$notNull"){g(_=>({..._,value:"true",filter:b}));return}g(_=>({..._,filter:b,value:""}))},T=e.find(b=>b.name===f.name),E=f.filter,I=T.metadatas.customOperators||we(T),R=T.metadatas.customInput||Fn;return i().createElement(p.Popover,{source:a,onDismiss:o,padding:3,spacing:4,onBlur:r},i().createElement("form",{onSubmit:v},i().createElement(p.Flex,{direction:"column",alignItems:"stretch",gap:1,style:{minWidth:184}},i().createElement(wn,{direction:"column",alignItems:"stretch",gap:1},i().createElement(p.Select,{label:s({id:"app.utils.select-field",defaultMessage:"Select field"}),name:"name",size:"M",onChange:h,value:f.name},e.map(b=>i().createElement(p.Option,{key:b.name,value:b.name},b.metadatas.label))),i().createElement(p.Select,{label:s({id:"app.utils.select-filter",defaultMessage:"Select filter"}),name:"filter",size:"M",value:f.filter,onChange:y},I.map(b=>i().createElement(p.Option,{key:b.value,value:b.value},s(b.intlLabel))))),E!=="$null"&&E!=="$notNull"&&i().createElement(p.Box,null,i().createElement(R,{...T.metadatas,...T.fieldSchema,value:f.value,onChange:b=>g(_=>({..._,value:b}))})),i().createElement(p.Box,null,i().createElement(p.Button,{size:"L",variant:"secondary",startIcon:i().createElement(P.Plus,null),type:"submit",fullWidth:!0},s({id:"app.utils.add-filter",defaultMessage:"Add filter"}))))))};$e.defaultProps={onBlur(){}},$e.propTypes={displayedFilters:t().arrayOf(t().shape({name:t().string.isRequired,metadatas:t().shape({label:t().string}),fieldSchema:t().shape({type:t().string}),trackedEvent:t().shape({name:t().string.isRequired,properties:t().object})})).isRequired,isVisible:t().bool.isRequired,onBlur:t().func,onToggle:t().func.isRequired,source:t().shape({current:t().instanceOf(Element)}).isRequired};var qn=$e;const wn=w()(p.Flex)`
  /* Hide the label, every input needs a label. */
  label {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }
`;var Ct=require("formik"),$n=e=>{const n=(0,d.useRef)(null),{isSubmitting:r,isValidating:o,errors:a,touched:l}=(0,Ct.useFormikContext)();return(0,d.useEffect)(()=>{if(r&&!o){const c=n.current.querySelectorAll("[data-strapi-field-error]");if(c.length>0){const u=c[0].getAttribute("id"),m=n.current.querySelector(`[aria-describedby="${u}"]`);m&&m.focus()}}if(!r&&!o&&Object.keys(a).length){const c=document.getElementById("global-form-error");c&&c.focus()}},[a,r,o,l]),i().createElement(Ct.Form,{ref:n,...e,noValidate:!0})},An=e=>{if(!e)return{maximum:void 0,minimum:void 0};const{minLength:n,maxLength:r,max:o,min:a}=e;let l,c;const s=parseInt(a,10),u=parseInt(n,10);Number.isNaN(s)?Number.isNaN(u)||(l=u):l=s;const m=parseInt(o,10),f=parseInt(r,10);return Number.isNaN(m)?Number.isNaN(f)||(c=f):c=m,{maximum:c,minimum:l}},Dn=({type:e,minimum:n,maximum:r})=>{if(["biginteger","integer","number"].includes(e))return{};const o=Math.max(n||0,r||0);return{message:{id:"content-manager.form.Input.hint.character.unit",defaultMessage:"{maxValue, plural, one { character} other { characters}}"},values:{maxValue:o}}},jn=({description:e,fieldSchema:n,type:r})=>{const{formatMessage:o}=(0,x.useIntl)(),a=()=>e?.id?o({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"";return{hint:(()=>{const{maximum:c,minimum:s}=An(n),u=Dn({type:r,minimum:s,maximum:c}),m=typeof s=="number",f=typeof c=="number",g=f&&m,h=f||m;return!e?.id&&!h?"":o({id:"content-manager.form.Input.hint.text",defaultMessage:"{min, select, undefined {} other {min. {min}}}{divider}{max, select, undefined {} other {max. {max}}}{unit}{br}{description}"},{min:s,max:c,description:a(),unit:u?.message&&h?o(u.message,u.values):null,divider:g?o({id:"content-manager.form.Input.hint.minMaxDivider",defaultMessage:" / "}):null,br:h?i().createElement("br",null):null})})()}},D=e=>`${e/16}rem`;const Ae=({hint:e,label:n,labelAction:r,error:o,name:a,required:l})=>i().createElement(p.TextInput,{disabled:!0,error:o,label:n,labelAction:r,id:a,hint:e,name:a,onChange:()=>{},placeholder:"Not supported",required:l,type:"text",value:""});Ae.defaultProps={hint:null,error:void 0,labelAction:void 0,required:!1},Ae.propTypes={error:t().string,hint:t().string,label:t().string.isRequired,labelAction:t().element,name:t().string.isRequired,required:t().bool};var Bn=Ae;const De=({autoComplete:e,customInputs:n,description:r,disabled:o,intlLabel:a,labelAction:l,error:c,name:s,onChange:u,options:m,placeholder:f,required:g,step:h,type:v,value:y,isNullable:T,attribute:E,...I})=>{const{formatMessage:R}=(0,x.useIntl)(),{hint:b}=jn({description:r,fieldSchema:E,type:E?.type||v}),[_,k]=(0,d.useState)(!1),L=n?n[v]:null,C=y??void 0,j=C??"";function Y(S){if(!S)return null;const q={...S.values};return R(typeof S=="string"?{id:S,defaultMessage:S}:{id:S.id,defaultMessage:S?.defaultMessage??S.id},q)}const O=Y(c);if(L)return i().createElement(L,{...I,attribute:E,description:r,hint:b,disabled:o,intlLabel:a,labelAction:l,error:O,name:s,onChange:u,options:m,required:g,placeholder:f,type:v,value:C});const F=a.id?R({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):s,B=f?R({id:f.id,defaultMessage:f.defaultMessage},{...f.values}):"";switch(v){case"json":return i().createElement(p.JSONInput,{label:F,labelAction:l,value:C,error:O,disabled:o,hint:b,required:g,onChange:S=>{const q=!E.required&&!S.length?null:S;u({target:{name:s,value:q}})},minHeight:D(252),maxHeight:D(504)});case"bool":{const S={clearLabel:T&&R({id:"app.components.ToggleCheckbox.clear-label",defaultMessage:"Clear"}),onClear:T&&(()=>{u({target:{name:s,value:null}})})};return i().createElement(p.ToggleInput,{checked:y===null?null:y||!1,disabled:o,hint:b,label:F,error:O,labelAction:l,name:s,offLabel:R({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"False"}),onLabel:R({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"True"}),onChange:q=>{u({target:{name:s,value:q.target.checked}})},required:g,...S})}case"checkbox":return i().createElement(p.Checkbox,{disabled:o,error:O,hint:b,id:s,name:s,onValueChange:S=>{u({target:{name:s,value:S}})},required:g,value:Boolean(C)},F);case"datetime":return i().createElement(p.DateTimePicker,{clearLabel:R({id:"clearLabel",defaultMessage:"Clear"}),disabled:o,error:O,label:F,labelAction:l,id:s,hint:b,name:s,onChange:S=>{const q=S?S.toISOString():null;u({target:{name:s,value:q,type:v}})},onClear:()=>u({target:{name:s,value:null,type:v}}),placeholder:B,required:g,value:C?new Date(C):void 0});case"date":return i().createElement(p.DatePicker,{clearLabel:R({id:"clearLabel",defaultMessage:"Clear"}),disabled:o,error:O,label:F,labelAction:l,id:s,hint:b,name:s,onChange:S=>{u({target:{name:s,value:Rt()(S,{representation:"date"}),type:v}})},onClear:()=>u({target:{name:s,value:null,type:v}}),placeholder:B,required:g,selectedDate:C?new Date(C):void 0,selectedDateLabel:S=>`Date picker, current is ${S}`});case"number":return i().createElement(p.NumberInput,{disabled:o,error:O,label:F,labelAction:l,id:s,hint:b,name:s,onValueChange:S=>u({target:{name:s,value:S,type:v}}),placeholder:B,required:g,step:h,value:C});case"email":return i().createElement(p.TextInput,{autoComplete:e,disabled:o,error:O,label:F,labelAction:l,id:s,hint:b,name:s,onChange:u,placeholder:B,required:g,type:"email",value:j});case"timestamp":case"text":case"string":return i().createElement(p.TextInput,{autoComplete:e,disabled:o,error:O,label:F,labelAction:l,id:s,hint:b,name:s,onChange:u,placeholder:B,required:g,type:"text",value:j});case"password":return i().createElement(p.TextInput,{autoComplete:e,disabled:o,error:O,endAction:i().createElement("button",{"aria-label":R({id:"Auth.form.password.show-password",defaultMessage:"Show password"}),onClick:()=>{k(S=>!S)},style:{border:"none",padding:0,background:"transparent"},type:"button"},_?i().createElement(p.Icon,{as:P.Eye,color:"neutral500"}):i().createElement(p.Icon,{as:P.EyeStriked,color:"neutral500"})),label:F,labelAction:l,id:s,hint:b,name:s,onChange:u,placeholder:B,required:g,type:_?"text":"password",value:j});case"select":return i().createElement(p.Select,{disabled:o,error:O,label:F,labelAction:l,id:s,hint:b,name:s,onChange:S=>u({target:{name:s,value:S,type:"select"}}),placeholder:B,required:g,value:C},m.map(({metadatas:{intlLabel:S,disabled:q,hidden:K},key:rt,value:ot})=>i().createElement(p.Option,{key:rt,value:ot,disabled:q,hidden:K},R(S))));case"textarea":return i().createElement(p.Textarea,{disabled:o,error:O,label:F,labelAction:l,id:s,hint:b,name:s,onChange:S=>u({target:{name:s,value:S.target.value,type:v}}),required:g,placeholder:B,type:v,value:j});case"time":{let S=C;if(C&&C.split(":").length>2){const[q,K]=C.split(":");S=`${q}:${K}`}return i().createElement(p.TimePicker,{clearLabel:R({id:"clearLabel",defaultMessage:"Clear"}),disabled:o,error:O,label:F,labelAction:l,id:s,hint:b,name:s,onChange:q=>{u({target:{name:s,value:`${q}`,type:v}})},onClear:()=>{u({target:{name:s,value:null,type:v}})},placeholder:B,required:g,value:S})}default:return i().createElement(Bn,{name:s,label:F,labelAction:l,hint:b,error:O,required:g})}};De.defaultProps={autoComplete:void 0,customInputs:null,description:null,disabled:!1,error:"",isNullable:void 0,labelAction:void 0,placeholder:null,required:!1,options:[],step:1,value:void 0,attribute:null},De.propTypes={autoComplete:t().string,customInputs:t().object,description:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}),attribute:t().object,disabled:t().bool,error:t().oneOfType([t().string,t().shape({id:t().string.isRequired,defaultMessage:t().string})]),intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,isNullable:t().bool,labelAction:t().element,name:t().string.isRequired,onChange:t().func.isRequired,options:t().arrayOf(t().shape({metadatas:t().shape({intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired}).isRequired,disabled:t().bool,hidden:t().bool}).isRequired,key:t().oneOfType([t().string,t().number]).isRequired,value:t().oneOfType([t().string,t().number]).isRequired}).isRequired),placeholder:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}),required:t().bool,step:t().number,type:t().string.isRequired,value:t().any};var Nn=De;/**
 * @preserve
 * @typedef {Object} MenuItem
 * @property {string} to
 * @property {React.ComponentType} icon
 * @property {import('react-intl').MessageDescriptor} intlLabel
 * @property {string[]} [permissions]
 * @property {React.ComponentType} [Component]
 *//**
 * @preserve
 * @typedef {Object} StrapiAppContextValue
 * @property {(pluginId: string) => unknown | undefined} getPlugin
 * @property {MenuItem[]} menu
 * @property {Record<string, unknown>} plugins
 * @property {(hookName: string) => Promise<unknown>} runHookParallel
 * @property {(hookName: string) => Promise<unknown>} runHookWaterfall
 * @property {(hookName: string) => Promise<unknown>} runHookSeries
 * @property {Record<string, unknown>} settings
 *//**
 * @preserve
 * @type {React.Context<StrapiAppContextValue>}
 */const je=d.createContext(),Mt=({children:e,getPlugin:n,menu:r,plugins:o,runHookParallel:a,runHookSeries:l,runHookWaterfall:c,settings:s})=>{const u=d.useMemo(()=>({getPlugin:n,menu:r,plugins:o,runHookParallel:a,runHookSeries:l,runHookWaterfall:c,settings:s}),[n,r,o,a,l,c,s]);return d.createElement(je.Provider,{value:u},e)};Mt.propTypes={children:t().node.isRequired,getPlugin:t().func.isRequired,menu:t().arrayOf(t().shape({to:t().string.isRequired,icon:t().func.isRequired,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired}).isRequired,permissions:t().array,Component:t().func})).isRequired,plugins:t().object.isRequired,runHookParallel:t().func.isRequired,runHookWaterfall:t().func.isRequired,runHookSeries:t().func.isRequired,settings:t().object.isRequired};/**
 * @preserve
 * @returns {StrapiAppContextValue}
 */const Pt=()=>d.useContext(je);var Un=e=>{const{getPlugin:n}=Pt(),[r,o,a]=e.split("."),l=n(r);return l?l.getInjectedComponents(o,a):null};const xt=({area:e,...n})=>{const r=Un(e);return r?r.map(o=>i().createElement(o.Component,{key:o.name,...n})):null};xt.propTypes={area:t().string.isRequired};var Yn=xt,zn=e=>i().createElement(Z.Link,{...e,as:N.NavLink}),Wn=e=>i().createElement(Z.LinkButton,{...e,as:N.NavLink});const Be=({content:e,...n})=>{const{formatMessage:r}=(0,x.useIntl)();return i().createElement(p.EmptyStateLayout,{icon:i().createElement(P.EmptyDocuments,{width:"10rem"}),...n,content:r({id:e.id,defaultMessage:e.defaultMessage},e.values)})};Be.defaultProps={content:{id:"app.components.EmptyStateLayout.content-document",defaultMessage:"No content found",values:{}}},Be.propTypes={content:t().shape({id:t().string,defaultMessage:t().string,values:t().object})};var Vn=Be,Qn=e=>i().createElement(p.EmptyStateLayout,{icon:i().createElement(P.EmptyPictures,{width:"10rem"}),...e});const Ne=({action:e})=>{const{formatMessage:n}=(0,x.useIntl)();return i().createElement(p.EmptyStateLayout,{icon:i().createElement(P.EmptyPermissions,{width:"10rem"}),content:n({id:"app.components.EmptyStateLayout.content-permissions",defaultMessage:"You don't have the permissions to access that content"}),action:e})};Ne.defaultProps={action:void 0},Ne.propTypes={action:t().node};var Hn=Ne;const Gn=w()(P.EyeStriked)`
  > path {
    fill: ${({theme:e})=>e.colors.neutral600};
  }
`,Ue=({description:e,intlLabel:n,labelAction:r,error:o,name:a})=>{const{formatMessage:l}=(0,x.useIntl)(),c=n.id?l({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):a,s=e?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",u=l({id:"components.NotAllowedInput.text",defaultMessage:"No permissions to see this field"}),m=o?l({id:o,defaultMessage:o}):"";return i().createElement(p.TextInput,{disabled:!0,error:m,label:c,labelAction:r,id:a,hint:s,name:a,onChange:()=>{},placeholder:u,startAction:i().createElement(Gn,null),type:"text",value:""})};Ue.defaultProps={description:null,error:"",labelAction:void 0},Ue.propTypes={description:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}),error:t().string,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,labelAction:t().element,name:t().string.isRequired};var Jn=Ue;const Ye=({trackedEvent:e,options:n,defaultValue:r})=>{const{formatMessage:o}=(0,x.useIntl)(),[{query:a},l]=U(),{trackUsage:c}=J(),s=m=>{e&&c(e),l({pageSize:m,page:1})},u=a?.pageSize||r;return i().createElement(p.Flex,{gap:2},i().createElement(p.SingleSelect,{size:"S","aria-label":o({id:"components.PageFooter.select",defaultMessage:"Entries per page"}),onChange:s,value:u},n.map(m=>i().createElement(p.Option,{key:m,value:m},m))),i().createElement(p.Typography,{textColor:"neutral600",as:"span"},o({id:"components.PageFooter.select",defaultMessage:"Entries per page"})))};Ye.defaultProps={trackedEvent:null,options:["10","20","50","100"],defaultValue:"10"},Ye.propTypes={trackedEvent:t().string,options:t().arrayOf(t().string.isRequired),defaultValue:t().string};const ze=({pagination:{pageCount:e},boundaryCount:n,siblingCount:r})=>{const[{query:o}]=U(),a=parseInt(o?.page||"1",10),{pathname:l}=(0,N.useLocation)(),{formatMessage:c}=(0,x.useIntl)(),s=E=>(0,ne.stringify)({...o,page:E},{encode:!1}),u=s(a+(e>1?1:0)),m=s(a-1),f=(E,I)=>{const R=I-E+1;return Array.from({length:R},(b,_)=>E+_)},g=f(1,Math.min(n,e)),h=f(Math.max(e-n+1,n+1),e),v=Math.max(Math.min(a-r,e-n-r*2-1),n+2),y=Math.min(Math.max(a+r,n+r*2+2),h.length>0?h[0]-2:e-1),T=[...g,...v>n+2?["start-ellipsis"]:n+1<e-n?[n+1]:[],...f(v,y),...y<e-n-1?["end-ellipsis"]:e-n>n?[e-n]:[],...h];return i().createElement(p.Pagination,{activePage:a,pageCount:e},i().createElement(p.PreviousLink,{as:N.NavLink,to:{pathname:l,search:m}},c({id:"components.pagination.go-to-previous",defaultMessage:"Go to previous page"})),T.map(E=>typeof E=="number"?i().createElement(p.PageLink,{as:N.NavLink,key:E,number:E,to:{pathname:l,search:s(E)}},c({id:"components.pagination.go-to",defaultMessage:"Go to page {page}"},{page:E})):i().createElement(p.Dots,{key:E})),i().createElement(p.NextLink,{as:N.NavLink,to:{pathname:l,search:u}},c({id:"components.pagination.go-to-next",defaultMessage:"Go to next page"})))};ze.defaultProps={boundaryCount:1,siblingCount:1},ze.propTypes={boundaryCount:t().number,pagination:t().shape({pageCount:t().number.isRequired}).isRequired,siblingCount:t().number};var _t=require("react-select"),Kn=M.n(_t),Lt=w()(p.Box)`
  background: transparent;
  border: none;
  position: relative;
  z-index: 1;

  svg {
    height: ${11/16}rem;
    width: ${11/16}rem;
  }

  svg path {
    fill: ${({theme:e})=>e.colors.neutral600};
  }
`,Zn=e=>{const n=_t.components.ClearIndicator;return i().createElement(n,{...e},i().createElement(Lt,{as:"button",type:"button"},i().createElement(P.Cross,null)))};const Xn=w()(Lt)`
  display: flex;
  background: none;
  border: none;

  svg {
    width: ${9/16}rem;
  }
`;var er=({innerRef:e,innerProps:n})=>i().createElement(Xn,{ref:e,paddingRight:3,...n},i().createElement(P.CarretDown,null)),tr=()=>null,nr=(e,n)=>({clearIndicator:r=>({...r,padding:0,paddingRight:e.spaces[3]}),container:r=>({...r,background:e.colors.neutral0,lineHeight:"normal"}),control(r,o){let a=e.colors.neutral200,l,c;return o.isFocused?(a=e.colors.primary600,l=e.colors.primary600):n&&(a=e.colors.danger600),o.isDisabled&&(c=`${e.colors.neutral150} !important`),{...r,fontSize:e.fontSizes[2],height:40,border:`1px solid ${a} !important`,outline:0,backgroundColor:c,borderRadius:e.borderRadius,boxShadow:l?`${l} 0px 0px 0px 2px`:0}},indicatorContainer:r=>({...r,padding:0,paddingRight:e.spaces[3]}),input:r=>({...r,margin:0,padding:0,color:e.colors.neutral800,gridTemplateColumns:"0 100%"}),menu(r){return{...r,width:"100%",marginTop:e.spaces[1],backgroundColor:e.colors.neutral0,color:e.colors.neutral800,borderRadius:e.borderRadius,border:`1px solid ${e.colors.neutral200}`,boxShadow:e.shadows.tableShadow,fontSize:e.fontSizes[2],zIndex:2}},menuList:r=>({...r,paddingLeft:e.spaces[1],paddingTop:e.spaces[1],paddingRight:e.spaces[1],paddingBottom:e.spaces[1]}),menuPortal:r=>({...r,zIndex:100}),option(r,o){let a=r.backgroundColor;return(o.isFocused||o.isSelected)&&(a=e.colors.primary100),{...r,color:e.colors.neutral800,lineHeight:e.spaces[5],backgroundColor:a,borderRadius:e.borderRadius,"&:active":{backgroundColor:e.colors.primary100}}},placeholder:r=>({...r,color:e.colors.neutral600,marginLeft:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"80%"}),singleValue(r,o){let a=e.colors.neutral800;return o.isDisabled&&(a=e.colors.neutral600),{...r,marginLeft:0,color:a}},valueContainer:r=>({...r,cursor:"pointer",padding:0,paddingLeft:e.spaces[4],marginLeft:0,marginRight:0})});const We=({components:e,styles:n,error:r,ariaErrorMessage:o,...a})=>{const l=(0,ye.useTheme)(),c=nr(l,r);return i().createElement(Kn(),{menuPosition:"fixed",components:{ClearIndicator:Zn,DropdownIndicator:er,IndicatorSeparator:tr,LoadingIndicator:()=>null,...e},"aria-errormessage":r&&o,"aria-invalid":!!r,styles:{...c,...n},...a})};var rr=We;We.defaultProps={ariaErrorMessage:void 0,components:void 0,error:void 0,styles:void 0},We.propTypes={ariaErrorMessage:t().string,components:t().object,error:t().string,styles:t().object};var or=rr,kt=require("date-fns");const Ve=({timestamp:e,customIntervals:n})=>{const{formatRelativeTime:r,formatDate:o,formatTime:a}=(0,x.useIntl)(),l=(0,kt.intervalToDuration)({start:e,end:Date.now()}),c=["years","months","days","hours","minutes","seconds"].find(f=>l[f]>0&&Object.keys(l).includes(f)),s=(0,kt.isPast)(e)?-l[c]:l[c],u=n.find(f=>l[f.unit]<f.threshold),m=u?u.text:r(s,c,{numeric:"auto"});return i().createElement("time",{dateTime:e.toISOString(),title:`${o(e)} ${a(e)}`},m)};Ve.propTypes={timestamp:t().instanceOf(Date).isRequired,customIntervals:t().arrayOf(t().shape({unit:t().oneOf(["years","months","days","hours","minutes","seconds"]).isRequired,text:t().string.isRequired,threshold:t().number.isRequired}))},Ve.defaultProps={customIntervals:[]};var ar=Ve;const Qe=({label:e,placeholder:n,trackedEvent:r,trackedEventDetails:o})=>{const a=(0,d.useRef)(null),l=(0,d.useRef)(null),[{query:c},s]=U(),[u,m]=(0,d.useState)(c?._q||""),[f,g]=(0,d.useState)(!!u),{formatMessage:h}=(0,x.useIntl)(),{trackUsage:v}=J(),y=()=>g(I=>!I);(0,d.useLayoutEffect)(()=>{f&&a.current&&a.current.focus()},[f]);const T=()=>{m(""),s({_q:""},"remove")},E=I=>{I.preventDefault(),u?(r&&v(r,o),s({_q:encodeURIComponent(u),page:1})):(y(),s({_q:""},"remove"))};return f?i().createElement(p.SearchForm,{onSubmit:E},i().createElement(p.Searchbar,{ref:a,name:"search",onChange:({target:{value:I}})=>m(I),value:u,clearLabel:h({id:"clearLabel",defaultMessage:"Clear"}),onClear:T,size:"S",placeholder:n},e)):i().createElement(p.IconButton,{ref:l,icon:i().createElement(p.Icon,{as:P.Search,color:"neutral800"}),label:h({id:"global.search",defaultMessage:"Search"}),onClick:y})};Qe.defaultProps={placeholder:void 0,trackedEventDetails:void 0,trackedEvent:null},Qe.propTypes={label:t().string.isRequired,placeholder:t().string,trackedEventDetails:t().object,trackedEvent:t().string};var sr=Qe,ir=require("react-helmet");const Ot=({name:e})=>{const{formatMessage:n}=(0,x.useIntl)(),r=n({id:"Settings.PageTitle",defaultMessage:"Settings - {name}"},{name:e});return i().createElement(ir.Helmet,{title:r})};Ot.propTypes={name:t().string.isRequired};var lr=Ot;const cr=w().div`
  margin-right: ${({theme:e})=>e.spaces[3]};
  width: ${6/16}rem;
  height: ${6/16}rem;
  border-radius: 50%;
  background: ${({theme:e,backgroundColor:n})=>e.colors[n]};
`,He=({variant:e})=>{const n=`${e}600`;return i().createElement(cr,{backgroundColor:n})};He.defaultProps={variant:"primary"},He.propTypes={variant:t().oneOf(["alternative","danger","neutral","primary","secondary","success","warning"])};var ur=He,Ft=(0,d.createContext)(),dr=()=>(0,d.useContext)(Ft),qt=require("react-dom");/**
 * @preserve
 * @typedef {Object} AutoReloadOverlayBlockerConfig
 * @property {string | undefined} title
 * @property {string | undefined} description
 * @property {'reload' | 'time' | undefined} icon
 *//**
 * @preserve
 * @typedef {Object} AutoReloadOverlayBlockerContextValue
 * @property {(config: AutoReloadOverlayBlockerConfig) => void} lockAppWithAutoreload
 * @property {() => void} unlockAppWithAutoreload
 *//**
 * @preserve
 * @type {React.Context<AutoReloadOverlayBlockerContextValue>}
 */const Ge=d.createContext(),pr=30*1e3,wt=({children:e})=>{const[n,r]=d.useState(!1),[o,a]=d.useState(void 0),[l,c]=d.useState(!1),s=d.useCallback((v=void 0)=>{r(!0),a(v)},[]),u=d.useCallback(()=>{r(!1),a(void 0)},[]);d.useEffect(()=>{if(n){const v=setTimeout(()=>{c(!0)},pr);return()=>{clearTimeout(v)}}},[n]);let m=o?.icon||"reload",f={id:o?.description||"components.OverlayBlocker.description",defaultMessage:"You're using a feature that needs the server to restart. Please wait until the server is up."},g={id:o?.title||"components.OverlayBlocker.title",defaultMessage:"Waiting for restart"};l&&(m="time",f={id:"components.OverlayBlocker.description.serverError",defaultMessage:"The server should have restarted, please check your logs in the terminal."},g={id:"components.OverlayBlocker.title.serverError",defaultMessage:"The restart is taking longer than expected"});const h=d.useMemo(()=>({lockAppWithAutoreload:s,unlockAppWithAutoreload:u}),[s,u]);return d.createElement(Ge.Provider,{value:h},d.createElement($t,{displayedIcon:m,isOpen:n,description:f,title:g}),e)};wt.propTypes={children:t().element.isRequired};const $t=({displayedIcon:e="reload",description:n,title:r,isOpen:o})=>{const{formatMessage:a}=(0,x.useIntl)();return o&&globalThis?.document?.body?(0,qt.createPortal)(d.createElement(gr,{id:"autoReloadOverlayBlocker",direction:"column",alignItems:"center",gap:6},d.createElement(p.Flex,{direction:"column",alignItems:"center",gap:2},d.createElement(p.Typography,{as:"h1",variant:"alpha"},a(r)),d.createElement(p.Typography,{as:"h2",textColor:"neutral600",fontSize:4,fontWeight:"regular"},a(n))),e==="reload"&&d.createElement(At,{padding:6,background:"primary100",borderColor:"primary200"},d.createElement(mr,{width:D(36),height:D(36)})),e==="time"&&d.createElement(At,{padding:6,background:"primary100",borderColor:"primary200"},d.createElement(P.Clock,{width:D(40),height:D(40)})),d.createElement(p.Box,{marginTop:2},d.createElement(Z.Link,{href:"https://docs.strapi.io",isExternal:!0},a({id:"global.documentation",defaultMessage:"Read the documentation"})))),globalThis.document.body):null};$t.propTypes={displayedIcon:t().string.isRequired,description:t().object.isRequired,isOpen:t().bool.isRequired,title:t().object.isRequired};const fr=(0,ye.keyframes)`
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(359deg);
    }
  `,mr=w()(P.Refresh)`
  animation: ${fr} 1s infinite linear;
`,gr=w()(p.Flex)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  /* TODO: set this up in the theme for consistence z-index values */
  z-index: 1140;
  padding-top: ${D(160)};

  & > * {
    position: relative;
    z-index: 1;
  }

  &:before {
    content: '';
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: ${({theme:e})=>e.colors.neutral0};
    opacity: 0.9;
  }
`,At=w()(p.Box)`
  border-radius: 50%;
  svg {
    > path {
      fill: ${({theme:e})=>e.colors.primary600} !important;
    }
  }
`;/**
 * @preserve
 * @returns {AutoReloadOverlayBlockerContextValue}
 */const hr=()=>d.useContext(Ge);/**
 * @preserve
 * @typedef {Object} CustomField
 * @property {string} name - The name of the custom field
 * @property {string} pluginId - The plugin id of the custom field
 * @property {string} type - The type of the custom field
 * @property {import('react-intl').MessageDescriptor} intlLabel
 * @property {import('react-intl').MessageDescriptor} intlDescription
 * @property {unknown} components
 * @property {unknown} options
 * @property {import('react').ComponentType} icon
 *//**
 * @preserve
 * @typedef {Object} CustomFieldsContextValue
 * @property {(uid: string) => CustomField | undefined} get
 * @property {() => Record<string, CustomField>} getAll
 *//**
 * @preserve
 * @type {React.Context<CustomFieldsContextValue>}
 */const Je=d.createContext({get(){},getAll(){}}),Dt=({children:e,customFields:n})=>{const r=n.get.bind(n),o=n.getAll.bind(n),a=d.useMemo(()=>({get:r,getAll:o}),[r,o]);return d.createElement(Je.Provider,{value:a},e)};Dt.propTypes={children:t().node.isRequired,customFields:t().shape({get:t().func.isRequired,getAll:t().func.isRequired}).isRequired};/**
 * @preserve
 * @returns {CustomFieldsContextValue}
 */const vr=()=>d.useContext(Je);/**
 * @preserve
 * @typedef {Object} GuidedTourContextValue
 * @property {string} currentStep
 * @property {Object} guidedTourState
 * @property {boolean} isGuidedTourVisible
 * @property {boolean} isSkipped
 * @property {(step: string) => void} setCurrentStep
 * @property {(isVisible: boolean) => void} setGuidedTourVisibility
 * @property {(isSkipped: boolean) => void} setSkipped
 * @property {(step: string, state: { create: boolean; success: boolean }) => void} setStepState
 * @property {(section: string) => void} startSection
 *//**
 * @preserve
 * @type {React.Context<GuidedTourContextValue>}
 */const Ke=d.createContext(),Ze=({children:e,currentStep:n,guidedTourState:r,isGuidedTourVisible:o,isSkipped:a,setCurrentStep:l,setGuidedTourVisibility:c,setSkipped:s,setStepState:u,startSection:m})=>{const f=d.useMemo(()=>({currentStep:n,guidedTourState:r,isGuidedTourVisible:o,isSkipped:a,setCurrentStep:l,setGuidedTourVisibility:c,setSkipped:s,setStepState:u,startSection:m}),[n,r,o,a,l,c,s,u,m]);return d.createElement(Ke.Provider,{value:f},e)};Ze.defaultProps={currentStep:null,isGuidedTourVisible:!1},Ze.propTypes={children:t().node.isRequired,currentStep:t().string,guidedTourState:t().objectOf(t().shape({create:t().bool,success:t().bool})).isRequired,isGuidedTourVisible:t().bool,isSkipped:t().bool.isRequired,setCurrentStep:t().func.isRequired,setGuidedTourVisibility:t().func.isRequired,setSkipped:t().func.isRequired,setStepState:t().func.isRequired,startSection:t().func.isRequired};/**
 * @preserve
 * @returns {GuidedTourContextValue}
 */const yr=()=>d.useContext(Ke);/**
 * @preserve
 * @typedef {Object} LibraryContextValue
 * @property {Record<string, React.ComponentType>} fields
 * @property {Record<string, React.ComponentType>} components
 *//**
 * @preserve
 * @type {React.Context<LibraryContextValue>} LibraryContext
 */const Xe=d.createContext(),jt=({children:e,fields:n,components:r})=>{const o=d.useMemo(()=>({fields:n,components:r}),[n,r]);return d.createElement(Xe.Provider,{value:o},e)};jt.propTypes={children:t().node.isRequired,components:t().object.isRequired,fields:t().object.isRequired};/**
 * @preserve
 * @returns {LibraryContextValue}
 */const Er=()=>d.useContext(Xe);/**
 * @preserve
 * @typedef {Object} OverlayBlockerContextValue
 * @property {() => void} lockApp
 * @property {() => void} unlockApp
 *//**
 * @preserve
 * @type {React.Context<OverlayBlockerContextValue>}
 */const et=d.createContext(),Bt=({children:e})=>{const[n,r]=d.useState(!1),o=d.useCallback(()=>{r(!0)},[]),a=d.useCallback(()=>{r(!1)},[]),l=d.useMemo(()=>({lockApp:o,unlockApp:a}),[o,a]);return d.createElement(et.Provider,{value:l},e,n&&globalThis?.document?.body?(0,qt.createPortal)(d.createElement(br,{id:"overlayBlocker"}),globalThis.document.body):null)};Bt.propTypes={children:t().node.isRequired};const br=w()(p.Box)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  /* TODO: set this up in the theme for consistence z-index values */
  z-index: 1140;
`;/**
 * @preserve
 * @returns {OverlayBlockerContextValue}
 */const Tr=()=>d.useContext(et),Sr="apiError.";function Nt(e,n){const r=`${Sr}${e}`;return typeof n=="function"?n(r):r}function Ut(e,{name:n,intlMessagePrefixCallback:r}){const{message:o,path:a}=e;return{id:Nt(o,r),defaultMessage:o,name:e?.name??n,values:{path:a?.join(".")}}}function tt(e,n){const{error:r}=e.response.data;return r?.details?.errors?{name:r.name,errors:r.details.errors.map(o=>Ut(o,{name:r.name,intlMessagePrefixCallback:n}))}:Ut(r,{intlMessagePrefixCallback:n})}function Ir(e,{formatMessage:n,intlMessagePrefixCallback:r}){if(!n)throw new Error("The formatMessage callback is a mandatory argument.");const o=tt(e,r);return o?.errors?o.errors.map(({id:a,defaultMessage:l,values:c})=>n({id:a,defaultMessage:l},c)).join(`
`):n(o)}function Rr(e,{intlMessagePrefixCallback:n,formatMessage:r}){const{code:o,message:a}=e;return r({id:Nt(a,n),defaultMessage:a,values:{code:o}})}function Cr(e){const{formatMessage:n}=(0,x.useIntl)();return{formatAPIError(r){try{return Ir(r,{intlMessagePrefixCallback:e,formatMessage:n})}catch{if(r instanceof lt.AxiosError)return Rr(r,{intlMessagePrefixCallback:e,formatMessage:n});throw new Error("formatAPIError: Unknown error:",r)}}}}const Mr=()=>({copy:(0,d.useCallback)(async n=>{try{if(typeof n!="string"&&typeof n!="number")throw new Error(`Cannot copy typeof ${typeof n} to clipboard, must be a string`);if(n==="")throw new Error("Cannot copy empty string to clipboard.");const r=n.toString();return await navigator.clipboard.writeText(r),!0}catch{return!1}},[])});let nt=new Map;function Yt(e,n){let r=e+(n?Object.entries(n).sort((a,l)=>a[0]<l[0]?-1:1).join():"");if(nt.has(r))return nt.get(r);let o=new Intl.Collator(e,n);return nt.set(r,o),o}var zt=()=>{const e=(0,d.useRef)(null);return e.current===null&&(e.current=new AbortController),(0,d.useEffect)(()=>()=>{e.current.abort()},[]),(0,d.useMemo)(()=>he({signal:e.current.signal}),[])};function Pr(e,n){let r=Yt(e,{usage:"search",...n});return{startsWith(o,a){return a.length===0?!0:(o=o.normalize("NFC"),a=a.normalize("NFC"),r.compare(o.slice(0,a.length),a)===0)},endsWith(o,a){return a.length===0?!0:(o=o.normalize("NFC"),a=a.normalize("NFC"),r.compare(o.slice(-a.length),a)===0)},includes(o,a){if(a.length===0)return!0;o=o.normalize("NFC"),a=a.normalize("NFC");let l=0,c=a.length;for(;l+c<=o.length;l++){let s=o.slice(l,l+c);if(r.compare(a,s)===0)return!0}return!1}}}var xr=(e="main",n=[])=>{(0,d.useEffect)(()=>{const r=document.querySelector(e);r?(r.focus(),window.scrollTo({top:0})):console.warn(`[useFocusWhenNavigate] The page does not contain the selector "${e}" and can't be focused.`)},n)},_r=e=>{(0,d.useEffect)(()=>(e&&document.body.classList.add("lock-body-scroll"),()=>{document.body.classList.remove("lock-body-scroll")}),[e])},Lr=(e,n)=>{const[r,o]=(0,d.useState)(()=>{const a=window.localStorage.getItem(e);if(a!==null)try{return JSON.parse(a)}catch{return a}return n});return(0,d.useEffect)(()=>{window.localStorage.setItem(e,JSON.stringify(r))},[e,r]),[r,o]},kr=()=>new URLSearchParams((0,N.useLocation)().search),Or=require("react-query");const Fr=(e,n)=>{const[r,o]=(0,d.useState)(!1),a=(0,d.useMemo)(()=>Object.keys(e).map(y=>({name:y,hasPermission:!1})),[e]),{allPermissions:l}=X(),{post:c}=zt(),s=n||l,u=Object.entries(e),m=(0,Or.useQueries)(u.map(([y,T])=>({queryKey:["useRBAC",y,T.map(({action:E,subject:I})=>({action:E,subject:I}))],async queryFn(){if(!T||!T.length)return{name:y,hasPermission:!0};const E=s.filter(I=>T.find(b=>b.action===I.action&&b.subject===I.subject)!==void 0);if(E.length>0&&E.every(I=>Array.isArray(I.conditions)&&I.conditions.length>0))try{const{data:{data:I}}=await c("/admin/permissions/check",{permissions:E.map(({action:R,subject:b})=>({action:R,subject:b}))});return{name:y,hasPermission:Array.isArray(I)&&I.every(R=>R===!0)}}catch{return{name:y,hasPermission:!1}}return{name:y,hasPermission:E.length>0}}}))),f=(0,d.useCallback)(()=>{o(!0)},[]),g=r||m.some(y=>y.isLoading),h=m.map(y=>y.data);return{allowedActions:(h.some(y=>y===void 0)?a:h).reduce((y,{name:T,hasPermission:E})=>(y[`can${qr(T)}`]=E,y),{}),isLoading:g,setIsLoading:f}},qr=e=>e.charAt(0).toUpperCase()+e.slice(1),wr=(e,n)=>{const[r,o]=(0,d.useState)(n);return[r,{selectOne:m=>{const f=r.findIndex(g=>e.every(h=>g[h]===m[h]));f>-1?o(g=>[...g.slice(0,f),...g.slice(f+1)]):o(g=>[...g,m])},selectAll:m=>{r.length>0?o([]):o(m)},selectOnly:m=>{r.indexOf(m)>-1?o([]):o([m])},selectMultiple:m=>{o(f=>[...f,...m.filter(g=>f.findIndex(h=>e.every(v=>h[v]===g[v]))===-1)])},deselectMultiple:m=>{o(f=>[...f.filter(g=>m.findIndex(h=>e.every(v=>g[v]===h[v]))===-1)])},setSelections:o}]},$r=w()(p.IconButton)(({theme:e})=>`
  border-radius: ${D(30)};
  width: ${D(20)};
  height: ${D(20)};
  padding: ${D(3)};
  align-items: center;
  justify-content: center;
  svg {
    width: ${D(8)};
    rect {
      fill: ${e.colors.primary600}
    }
  }
`);var Ar=e=>i().createElement($r,{icon:i().createElement(P.Minus,null),...e});const Dr=["createdBy","updatedBy","publishedAt","id","_id"];var jr=(e,n,r,o=Dr)=>{const a=(l,c)=>Object.keys(l).reduce((s,u)=>{const m=le(c,u),f=V()(l,u),g=Q(c,[u,"component"]),h=Q(c,[u,"repeatable"]);let v=V()(c,["options","timestamps"]);return Array.isArray(v)||(v=[]),[...o,...v].indexOf(u)!==-1?(delete s[u],s):f?m==="dynamiczone"?(s[u]=f.map(y=>a(y,r[y.__component])),s):(m==="component"&&(h?s[u]=f.map(y=>a(y,r[g])):s[u]=a(f,r[g])),s):s},Object.assign({},l));return a(e,n)},Br=(e,n,r)=>{const o=(a,l)=>Object.keys(a).reduce((c,s)=>{const u=le(l,s),m=V()(a,s),f=Q(l,[s,"component"]),g=Q(l,[s,"repeatable"]);if(u==="json"&&m!==void 0)return c[s]=JSON.stringify(m,null,2),c;if(!m)return c[s]=m,c;if(u==="dynamiczone")return c[s]=m.map(h=>o(h,r[h.__component])),c;if(u==="component"){let h;return g?h=m.map((v,y)=>{const T={...v,__temp_key__:y};return o(T,r[f])}):h=o(m,r[f]),c[s]=h,c}return c[s]=m,c},{});return o(e,n)},Nr=(e,n)=>e.then(function(r){return[null,r]}).catch(function(r){return n&&Object.assign(r,n),[r,void 0]}),Ur=require("lodash/isEqual"),Yr=M.n(Ur),zr=require("lodash/isObject"),Wt=M.n(zr);function Wr(e,n){function r(o,a){return it()(o,function(l,c,s){Yr()(c,a[s])||(l[s]=Wt()(c)&&Wt()(a[s])?r(c,a[s]):c)})}return r(e,n)}var Vr=Wr;function Qr(e,{getTrad:n}){const r=tt(e,n);return r?.errors?r.errors.reduce((o,a)=>(o[a.values.path]={id:a.id,defaultMessage:a.defaultMessage},o),{}):r.defaultMessage}var Hr=e=>e&&e[0]==="."?e.substr(1):e;const Gr=(e,n)=>!e||!n?{}:{[e]:n[e]};var Jr=e=>(e?.inner||[]).reduce((n,r)=>(n[r.path.split("[").join(".").split("]").join("")]={id:r.message,defaultMessage:r.message,values:Gr(r?.type,r?.params)},n),{}),Kr=e=>e&&e.startsWith("/")?`${strapi.backendURL}${e}`:e,Zr=(e,n)=>Object.keys(e).reduce((r,o)=>(r[`${n}.${o}`]=e[o],r),{}),Xr=require("lodash/startsWith"),eo=M.n(Xr);const to="[@strapi/helper-plugin]:",no=e=>{const n=e;let r=!1;if(typeof n!="function")throw new TypeError(`${to} once requires a function parameter`);return(...o)=>{r||(n(...o),r=!0)}};function Vt(e){return e.json?e.json():e}function ro(e,n=!0){return e.status>=200&&e.status<300||e.status===0?e:(e.status===401&&z.getToken()&&n&&(z.clearAppStorage(),window.location.reload()),Vt(e).then(r=>{const o=new Error(e.statusText);throw o.response=e,o.response.payload=r,o}).catch(()=>{const r=new Error(e.statusText);throw r.response=e,r}))}function oo(e){return Object.keys(e).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}`).join("&")}function Qt(e){return new Promise(n=>{fetch(`${strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(r=>{if(r.status>=400)throw new Error("not available");n(e)}).catch(()=>{setTimeout(()=>Qt(e).then(n),100)})})}const ao=no(console.warn);function so(...e){let[n,r={},o,a=!0,...l]=e,c;ao("The `request` function is deprecated and will be removed in the next major version. Please use `useFetchClient` instead.");try{[{noAuth:c}]=l}catch{c=!1}r.headers||(r.headers=Object.assign({"Content-Type":"application/json"},r.headers));const s=z.getToken();if(s&&!c&&(r.headers=Object.assign({Authorization:`Bearer ${s}`},r.headers)),n=eo()(n,"/")?`${strapi.backendURL}${n}`:n,r&&r.params){const u=oo(r.params);n=`${n}?${u}`}return r&&r.body&&a&&(r.body=JSON.stringify(r.body)),fetch(n,r).then(ro).then(Vt).then(u=>o?Qt(u):u)}var io=(e,n)=>`${e}${Math.floor(n*255).toString(16).padStart(2,0)}`;const Ht={onClick:e=>e.stopPropagation(),role:"button","aria-hidden":!0},lo=({fn:e,condition:n=!0})=>{if(n)return{style:{cursor:"pointer"},onClick:e}},co=()=>i().createElement("div",{...Ht});var uo={email:"components.Input.error.validation.email",json:"components.Input.error.validation.json",lowercase:"components.Input.error.validation.lowercase",max:"components.Input.error.validation.max",maxLength:"components.Input.error.validation.maxLength",min:"components.Input.error.validation.min",minLength:"components.Input.error.validation.minLength",regex:"components.Input.error.validation.regex",required:"components.Input.error.validation.required",unique:"components.Input.error.validation.unique",integer:"component.Input.error.validation.integer"};function po(e){return e}var fo=po,Gt=exports;for(var Jt in W)Gt[Jt]=W[Jt];W.__esModule&&Object.defineProperty(Gt,"__esModule",{value:!0})})();
