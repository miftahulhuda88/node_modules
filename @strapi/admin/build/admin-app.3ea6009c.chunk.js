(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[5538],{33335:function(B,v,t){"use strict";t.r(v),t.d(v,{default:function(){return Ds}});var e=t(32735),p=t(12301),y=t(65810),E=t(56784),c=t.n(E),m=t(93839),A=t.n(m),M=t(86349),L=t.n(M),x=t(88423),O=t.n(x),b=t(74758),S=t(14911),R=t(47750),T="strapi-admin-language",r=t(19565),F=t(60216),a=t.n(F),G=t(20108),se=t(15062),D=t(66694),I=t(97889);const ne={menuLogo:null,authLogo:null};var Re=(o=ne,s)=>(0,I.ZP)(o,n=>{switch(s.type){case"UPDATE_PROJECT_SETTINGS":{Object.assign(n,s.values);break}default:return n}});const pe=({children:o,authLogo:s,menuLogo:n,showReleaseNotification:i,showTutorials:l})=>{const[{menuLogo:h,authLogo:f},P]=(0,e.useReducer)(Re,ne),k=(0,e.useCallback)(({menuLogo:X,authLogo:C})=>P({type:"UPDATE_PROJECT_SETTINGS",values:{menuLogo:X||n,authLogo:C||s}}),[s,n]),w=(0,e.useMemo)(()=>({logos:{menu:{custom:h,default:n},auth:{custom:f,default:s}},updateProjectSettings:k,showReleaseNotification:i,showTutorials:l}),[h,n,f,s,k,i,l]);return e.createElement(D._5.Provider,{value:w},o)};pe.propTypes={authLogo:a().string.isRequired,children:a().element.isRequired,menuLogo:a().string.isRequired,showReleaseNotification:a().bool.isRequired,showTutorials:a().bool.isRequired};var Ze=pe,Ue=t(33795),De=t.n(Ue),$e=t(3040),je=t.n($e);const qe="GUIDED_TOUR_CURRENT_STEP",Ve="GUIDED_TOUR_COMPLETED_STEPS",mt="GUIDED_TOUR_SKIPPED",et=JSON.parse,_e=JSON.stringify;var Ie={clear(){localStorage.removeItem(qe),localStorage.removeItem(Ve)},addCompletedStep(o){const s=et(localStorage.getItem(Ve))?.slice()||[];s.includes(o)||(s.push(o),localStorage.setItem(Ve,_e(s)))},addCurrentStep(o){localStorage.setItem(qe,_e(o))},setSkipped(o){localStorage.setItem(mt,_e(o))},get(o){return et(localStorage.getItem(o))}},gt=o=>{const s={...o},n=Ie.get(Ve),i=Ie.get(qe),l=Ie.get(mt);if(n&&n.forEach(h=>{const[f,P]=h.split(".");je()(s,["guidedTourState",f,P],!0)}),i){const[h,f]=i.split(".");je()(s,["guidedTourState",h,f],!0),Ie.addCompletedStep(i),Ie.addCurrentStep(null)}return l!==null&&je()(s,"isSkipped",l),s};const pt={currentStep:null,guidedTourState:{contentTypeBuilder:{create:!1,success:!1},contentManager:{create:!1,success:!1},apiTokens:{create:!1,success:!1}},isGuidedTourVisible:!1,isSkipped:!0};var tt=(o=pt,s)=>(0,I.ZP)(o,n=>{switch(s.type){case"SET_CURRENT_STEP":{n.currentStep=s.step;break}case"SET_STEP_STATE":{const[i,l]=s.currentStep.split(".");n.guidedTourState[i][l]=s.value;break}case"SET_SKIPPED":{n.isSkipped=s.value;break}case"SET_GUIDED_TOUR_VISIBILITY":{n.isGuidedTourVisible=s.value;break}default:return n}}),ft=(o,s)=>{const n=Object.entries(s),i=n.findIndex(([h])=>h===o);return n.slice(0,i).every(([,h])=>Object.values(h).every(Boolean))},ht=(o,s)=>{const n=o.split("."),i=n[1],l=Object.entries(s[n[0]]),h=l.findIndex(([P])=>P===i);return l.slice(0,h).every(([,P])=>P)};const st=({children:o})=>{const[{currentStep:s,guidedTourState:n,isGuidedTourVisible:i,isSkipped:l},h]=(0,e.useReducer)(tt,pt,gt),f=C=>{if(C!==null){const re=De()(n,C),_=ht(C,n);if(re||l||!_)return null}return Ie.addCurrentStep(C),h({type:"SET_CURRENT_STEP",step:C})},P=C=>{h({type:"SET_GUIDED_TOUR_VISIBILITY",value:C})},k=(C,re)=>{Ie.addCompletedStep(C),h({type:"SET_STEP_STATE",currentStep:C,value:re})},w=C=>{const re=n[C];if(re){const _=ft(C,n),de=Object.keys(re)[0],te=re[de];if(_&&!s&&!te)return f(`${C}.${de}`)}return null},X=C=>{Ie.setSkipped(C),h({type:"SET_SKIPPED",value:C})};return e.createElement(r.Zc,{guidedTourState:n,currentStep:s,setCurrentStep:f,setGuidedTourVisibility:P,setSkipped:X,setStepState:k,startSection:w,isGuidedTourVisible:i,isSkipped:l},o)};st.propTypes={children:a().element.isRequired};var Et=st,nt=t(58732),Ht=t.n(nt),Pt=t(78023),vt=t(5985);const Be=({changeLocale:o,children:s,localeNames:n})=>e.createElement(vt.Z.Provider,{value:{changeLocale:o,localeNames:n}},s);Be.propTypes={changeLocale:a().func.isRequired,children:a().element.isRequired,localeNames:a().object.isRequired};var yt=Be,Rt=o=>{const s=window.localStorage.getItem(T);return{locale:o[s]?s:"en",localeNames:o}};const at={localeNames:{en:"English"},locale:"en"};var Ct=(o=at,s)=>{switch(s.type){case"CHANGE_LOCALE":{const{locale:n}=s;return o.localeNames[n]?{...o,locale:n}:o}default:return o}};const Mt=({children:o,localeNames:s,messages:n})=>{const[{locale:i},l]=(0,e.useReducer)(Ct,at,()=>Rt(s));(0,e.useEffect)(()=>{window.localStorage.setItem(T,i),document.documentElement.setAttribute("lang",i)},[i]);const h=P=>{l({type:"CHANGE_LOCALE",locale:P})},f=Ht()(n[i],n.en);return e.createElement(Pt.Z,{locale:i,defaultLocale:"en",messages:f,textComponent:"span"},e.createElement(yt,{changeLocale:h,localeNames:s},o))};Mt.propTypes={children:a().element.isRequired,localeNames:a().objectOf(a().string).isRequired,messages:a().object.isRequired};var Lt=Mt,St=t(24854),Oe=t(67879),Dt=t(10328),xe=t(8471),It=(0,xe.vJ)`
  body {
    background: ${({theme:o})=>o.colors.neutral100};
  }
`;const Ot=({children:o})=>{const{currentTheme:s,themes:n}=(0,Dt.M1)(),{locale:i}=(0,Oe.Z)();return e.createElement(St.h,{locale:i,theme:n[s]||n.light},o,e.createElement(It,null))};Ot.propTypes={children:a().element.isRequired};var bt=Ot;const ot="STRAPI_THEME",Ut=()=>{const o=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",s=localStorage.getItem(ot);return s||localStorage.setItem(ot,o),s||o},kt=({children:o,themes:s})=>{const[n,i]=(0,e.useState)(Ut()),l=(0,e.useCallback)(f=>{i(f),localStorage.setItem(ot,f)},[i]),h=(0,e.useMemo)(()=>({currentTheme:n,onChangeTheme:l,themes:s}),[n,l,s]);return e.createElement(D.Rj.Provider,{value:h},o)};kt.propTypes={children:a().node.isRequired,themes:a().shape({light:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,dark:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,custom:a().object}).isRequired};var jt=kt;const g=new G.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),d=({authLogo:o,children:s,components:n,customFields:i,fields:l,getAdminInjectedComponents:h,getPlugin:f,localeNames:P,menu:k,menuLogo:w,messages:X,plugins:C,runHookParallel:re,runHookSeries:_,runHookWaterfall:de,settings:te,showReleaseNotification:K,showTutorials:Ge,store:ze,themes:ae})=>e.createElement(Lt,{messages:X,localeNames:P},e.createElement(jt,{themes:ae},e.createElement(bt,null,e.createElement(G.QueryClientProvider,{client:g},e.createElement(se.zt,{store:ze},e.createElement(D.ux.Provider,{value:{getAdminInjectedComponents:h}},e.createElement(Ze,{authLogo:o,menuLogo:w,showReleaseNotification:K,showTutorials:Ge},e.createElement(r._Y,{getPlugin:f,menu:k,plugins:C,runHookParallel:re,runHookWaterfall:de,runHookSeries:_,settings:te},e.createElement(r.rt,{components:n,fields:l},e.createElement(r.MG,{customFields:i},e.createElement(r.m$,null,e.createElement(r.w7,null,e.createElement(Et,null,e.createElement(r.N$,null,s))))))))))))));d.propTypes={authLogo:a().oneOfType([a().string,a().any]).isRequired,children:a().element.isRequired,components:a().object.isRequired,customFields:a().object.isRequired,fields:a().object.isRequired,getAdminInjectedComponents:a().func.isRequired,getPlugin:a().func.isRequired,localeNames:a().objectOf(a().string).isRequired,menu:a().arrayOf(a().shape({to:a().string.isRequired,icon:a().func.isRequired,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,permissions:a().array,Component:a().func})).isRequired,menuLogo:a().oneOfType([a().string,a().any]).isRequired,messages:a().object.isRequired,plugins:a().object.isRequired,runHookParallel:a().func.isRequired,runHookWaterfall:a().func.isRequired,runHookSeries:a().func.isRequired,settings:a().object.isRequired,showReleaseNotification:a().bool.isRequired,showTutorials:a().bool.isRequired,store:a().object.isRequired,themes:a().shape({light:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,dark:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,custom:a().object}).isRequired};var u=d,U=t(20284),j=t(6680);const N=(o,s)=>{let n=j.compose;const i=[];o.forEach(h=>{i.push(h())});const l=(0,j.createStore)($(s,{}),{},n((0,j.applyMiddleware)(...i)));return l.asyncReducers={},l.injectReducer=(h,f)=>{l.asyncReducers[h]=f,l.replaceReducer($(s,l.asyncReducers))},l},$=(o,s)=>(0,j.combineReducers)({...o,...s});var H=N,ee=t(78246),V=()=>{const o=[];return{register(s){o.push(s)},delete(s){o.splice(o.indexOf(s),1)},runWaterfall(s,n){return o.reduce((i,l)=>l(i,n),s)},async runWaterfallAsync(s,n){let i=s;for(const l of o)i=await l(i,n);return i},runSeries(...s){return o.map(n=>n(...s))},async runSeriesAsync(...s){const n=[];for(const i of o)n.push(await i(...s));return n},runParallel(...s){return Promise.all(o.map(n=>n(...s)))}}},J=t(46339),ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAXVBMVEUAAABIRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9JRf9IRf9IRP5IRP5JRP9JRf////+Vk/+zsv++vf9mY/9taf9/fP+Jh//c3P9RTf/Ibar2AAAAFHRSTlMA/MJX+fPt48cahaff1dMaGqcahSpTPmAAAAEvSURBVFjD7dfNTsMwEATgXcf5cdKEtixtcYH3f0xEibIguba1g8Slc+58iqUedmhNaMbJzX3Xema5G2bfdv3iprE50s80g7Yqw0Oz1Z+cmOL2a38nxuy+BSfmuNv7BUhDRAMCDESBEYCDvsD6hmcMGGnCgIkcBjhaMGCmHgN66jCgoxYDWvIY4IkxgHFAkrmeU7kmfpkG4uUllXMtEE82QPs2QPs2QPs2QPs2QPsAoH0DoH0LoH0QeN3ydtnyXg38ok76MQ/gAfwf8JH8V18LQOljomBAFAyIkga4CGT7XAtEuQf4IpDri6e2BoiZA6OrAGLuxOnLQMweWXMRyPVlwQ/NAwZMNGLACJ/76ODYo5MHHl3o7EOHZ6BbjtbpG/5kfOv8P7ilbv7PX/M/rMVPqrI3XI3nd3sAAAAASUVORK5CYII=",Ye={admin:{tutorials:{links:[]}},contentManager:{editView:{informations:[],"right-links":[]},listView:{actions:[],deleteModalAdditionalInfos:[],publishModalAdditionalInfos:[],unpublishModalAdditionalInfos:[]}}},We=t(10728),fe=t(53038);const Ne=({component:o,path:s,...n})=>{const{pathname:i,search:l}=(0,fe.TH)();return e.createElement(fe.AW,{path:s,render:h=>r.I8.getToken()!==null?e.createElement(o,{...n,...h}):e.createElement(fe.l_,{to:{pathname:"/auth/login",search:i!=="/"&&`?redirectTo=${encodeURIComponent(`${i}${l}`)}`}})})};Ne.propTypes={component:a().any.isRequired,path:a().string.isRequired};var we=(0,e.memo)(Ne);const Ke={contentManager:{main:[],collectionTypesConfigurations:[{action:"plugin::content-manager.collection-types.configure-view",subject:null}],componentsConfigurations:[{action:"plugin::content-manager.components.configure-layout",subject:null}],singleTypesConfigurations:[{action:"plugin::content-manager.single-types.configure-view",subject:null}]},marketplace:{main:[{action:"admin::marketplace.read",subject:null}],read:[{action:"admin::marketplace.read",subject:null}]},settings:{roles:{main:[{action:"admin::roles.create",subject:null},{action:"admin::roles.update",subject:null},{action:"admin::roles.read",subject:null},{action:"admin::roles.delete",subject:null}],create:[{action:"admin::roles.create",subject:null}],delete:[{action:"admin::roles.delete",subject:null}],read:[{action:"admin::roles.read",subject:null}],update:[{action:"admin::roles.update",subject:null}]},users:{main:[{action:"admin::users.create",subject:null},{action:"admin::users.read",subject:null},{action:"admin::users.update",subject:null},{action:"admin::users.delete",subject:null}],create:[{action:"admin::users.create",subject:null}],delete:[{action:"admin::users.delete",subject:null}],read:[{action:"admin::users.read",subject:null}],update:[{action:"admin::users.update",subject:null}]},webhooks:{main:[{action:"admin::webhooks.create",subject:null},{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],create:[{action:"admin::webhooks.create",subject:null}],delete:[{action:"admin::webhooks.delete",subject:null}],read:[{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],update:[{action:"admin::webhooks.update",subject:null}]},"api-tokens":{main:[{action:"admin::api-tokens.access",subject:null}],create:[{action:"admin::api-tokens.create",subject:null}],delete:[{action:"admin::api-tokens.delete",subject:null}],read:[{action:"admin::api-tokens.read",subject:null}],update:[{action:"admin::api-tokens.update",subject:null}],regenerate:[{action:"admin::api-tokens.regenerate",subject:null}]},"transfer-tokens":{main:[{action:"admin::transfer.tokens.access",subject:null}],create:[{action:"admin::transfer.tokens.create",subject:null}],delete:[{action:"admin::transfer.tokens.delete",subject:null}],read:[{action:"admin::transfer.tokens.read",subject:null}],update:[{action:"admin::transfer.tokens.update",subject:null}],regenerate:[{action:"admin::transfer.tokens.regenerate",subject:null}]},"project-settings":{read:[{action:"admin::project-settings.read",subject:null}],update:[{action:"admin::project-settings.update",subject:null}]}}};var Pe=t(18782),ue=t(8997),ce=t(84306),he=t(39935),He=t.n(he),ss=t(9086),it=t.n(ss),ns=t(20139),as=t(41832),z=t(24346),Qe=t(27649),ye=t(72850),Te=t(49372),Ae=t(87933),Fe=t(10369),lt=t(41415),wt=t(92802),Je=t(10190),me=t(954);const Zt=({onSubmit:o,schema:s})=>{const{formatMessage:n}=(0,Oe.Z)();return e.createElement(me.ZP,null,e.createElement(Qe.o,null,e.createElement(me.bU,null,e.createElement(wt.J9,{enableReinitialize:!0,initialValues:{email:""},onSubmit:o,validationSchema:s,validateOnChange:!1},({values:i,errors:l,handleChange:h})=>e.createElement(r.l0,{noValidate:!0},e.createElement(me.sg,null,e.createElement(Je.Z,null),e.createElement(ye.x,{paddingTop:6,paddingBottom:7},e.createElement(Te.Z,{as:"h1",variant:"alpha"},n({id:"Auth.form.button.password-recovery",defaultMessage:"Password Recovery"}))),l.errorMessage&&e.createElement(Te.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},n({id:l.errorMessage,defaultMessage:"An error occurred"}))),e.createElement(Ae.k,{direction:"column",alignItems:"stretch",gap:6},e.createElement(Fe.o,{error:l.email?n({id:l.email,defaultMessage:"This email is invalid."}):"",value:i.email,onChange:h,label:n({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:n({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),e.createElement(lt.z,{type:"submit",fullWidth:!0},n({id:"Auth.form.button.forgot-password",defaultMessage:"Send Email"})))))),e.createElement(Ae.k,{justifyContent:"center"},e.createElement(ye.x,{paddingTop:4},e.createElement(r.rU,{to:"/auth/login"},n({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};Zt.defaultProps={onSubmit:o=>o.preventDefault()},Zt.propTypes={onSubmit:a().func,schema:a().shape({type:a().string.isRequired}).isRequired};var os=Zt,rs=()=>{const{formatMessage:o}=(0,Oe.Z)();return e.createElement(me.ZP,null,e.createElement(Qe.o,null,e.createElement(me.bU,null,e.createElement(me.sg,null,e.createElement(Je.Z,null),e.createElement(ye.x,{paddingTop:6,paddingBottom:7},e.createElement(Te.Z,{as:"h1",variant:"alpha"},o({id:"app.containers.AuthPage.ForgotPasswordSuccess.title",defaultMessage:"Email sent"}))),e.createElement(Te.Z,null,o({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.email",defaultMessage:"It can take a few minutes to receive your password recovery link."})),e.createElement(ye.x,{paddingTop:4},e.createElement(Te.Z,null,o({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.contact-admin",defaultMessage:"If you do not receive this link, please contact your administrator."}))))),e.createElement(Ae.k,{justifyContent:"center"},e.createElement(ye.x,{paddingTop:4},e.createElement(r.rU,{to:"/auth/login"},o({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))},is=()=>{const{formatMessage:o}=(0,Oe.Z)(),n=(0,r.aM)().get("info")||o({id:"Auth.components.Oops.text",defaultMessage:"Your account has been suspended."});return e.createElement(me.ZP,null,e.createElement(Qe.o,null,e.createElement(me.bU,null,e.createElement(me.sg,null,e.createElement(Je.Z,null),e.createElement(ye.x,{paddingTop:6,paddingBottom:7},e.createElement(Te.Z,{as:"h1",variant:"alpha"},o({id:"Auth.components.Oops.title",defaultMessage:"Oops..."}))),e.createElement(Te.Z,null,n),e.createElement(ye.x,{paddingTop:4},e.createElement(Te.Z,null,o({id:"Auth.components.Oops.text.admin",defaultMessage:"If this is a mistake, please contact your administrator."}))))),e.createElement(Ae.k,{justifyContent:"center"},e.createElement(ye.x,{paddingTop:4},e.createElement(r.rU,{to:"/auth/login"},o({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))},ls=t(15335),Gt=t(5803),us=t(8284),ut=t(54894),ct=t(60492),dt=t(72218);const zt=xe.ZP.a`
  color: ${({theme:o})=>o.colors.primary600};
`,$t=(0,xe.ZP)(Fe.o)`
  ::-ms-reveal {
    display: none;
  }
`,Bt=({authType:o,fieldsToDisable:s,noSignin:n,onSubmit:i,schema:l})=>{const h=(0,r.lm)(),{push:f}=(0,fe.k6)(),[P,k]=(0,e.useState)(!1),[w,X]=(0,e.useState)(!1),[C,re]=(0,e.useState)(0),[_,de]=(0,e.useState)({}),{trackUsage:te}=(0,r.rS)(),{formatMessage:K}=(0,Oe.Z)(),Ge=(0,r.aM)(),{formatAPIError:ze}=(0,r.So)(),{get:ae}=(0,r.kY)(),ie=Ge.get("registrationToken");(0,e.useEffect)(()=>{ie&&(async()=>{try{const{data:{data:Z}}=await ae("/admin/registration-info",{params:{registrationToken:ie}});Z&&de(Z)}catch(Z){const q=ze(Z);h({type:"warning",message:q}),f(`/auth/oops?info=${encodeURIComponent(q)}`)}})()},[ie]);function Ce(Ee){return Object.entries(Ee).reduce((Z,[q,le])=>{let Le=le;return!["password","confirmPassword"].includes(q)&&typeof le=="string"&&(Le=Le.trim()),Z[q]=Le,Z},{})}return e.createElement(me.ZP,null,e.createElement(me.bU,null,e.createElement(wt.J9,{enableReinitialize:!0,initialValues:{firstname:_.firstname||"",lastname:_.lastname||"",email:_.email||"",password:"",confirmPassword:"",registrationToken:ie||void 0,news:!1},onSubmit:async(Ee,Z)=>{const q=Ce(Ee);try{await l.validate(q,{abortEarly:!1}),C>0&&o==="register-admin"&&te("didSubmitWithErrorsFirstAdmin",{count:C.toString()}),i(ie?{userInfo:it()(q,["registrationToken"]),registrationToken:ie}:q,Z)}catch(le){const Le=(0,r.CJ)(le);re(C+1),Z.setErrors(Le)}},validateOnChange:!1},({values:Ee,errors:Z,handleChange:q})=>e.createElement(r.l0,{noValidate:!0},e.createElement(Qe.o,null,e.createElement(Ae.k,{direction:"column",alignItems:"center",gap:3},e.createElement(Je.Z,null),e.createElement(Te.Z,{as:"h1",variant:"alpha",textAlign:"center"},K({id:"Auth.form.welcome.title",defaultMessage:"Welcome to Strapi!"})),e.createElement(Te.Z,{variant:"epsilon",textColor:"neutral600",textAlign:"center"},K({id:"Auth.form.register.subtitle",defaultMessage:"Credentials are only used to authenticate in Strapi. All saved data will be stored in your database."}))),e.createElement(Ae.k,{direction:"column",alignItems:"stretch",gap:6,marginTop:7},e.createElement(ls.r,{gap:4},e.createElement(Gt.P,{col:6},e.createElement(Fe.o,{name:"firstname",required:!0,value:Ee.firstname,error:Z.firstname?K(Z.firstname):void 0,onChange:q,label:K({id:"Auth.form.firstname.label",defaultMessage:"Firstname"})})),e.createElement(Gt.P,{col:6},e.createElement(Fe.o,{name:"lastname",value:Ee.lastname,onChange:q,label:K({id:"Auth.form.lastname.label",defaultMessage:"Lastname"})}))),e.createElement(Fe.o,{name:"email",disabled:s.includes("email"),value:Ee.email,onChange:q,error:Z.email?K(Z.email):void 0,required:!0,label:K({id:"Auth.form.email.label",defaultMessage:"Email"}),type:"email"}),e.createElement($t,{name:"password",onChange:q,value:Ee.password,error:Z.password?K(Z.password):void 0,endAction:e.createElement(dt.Z,{onClick:le=>{le.preventDefault(),k(Le=>!Le)},label:K(P?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},P?e.createElement(ut.Z,null):e.createElement(ct.Z,null)),hint:K({id:"Auth.form.password.hint",defaultMessage:"Must be at least 8 characters, 1 uppercase, 1 lowercase & 1 number"}),required:!0,label:K({id:"global.password",defaultMessage:"Password"}),type:P?"text":"password"}),e.createElement($t,{name:"confirmPassword",onChange:q,value:Ee.confirmPassword,error:Z.confirmPassword?K(Z.confirmPassword):void 0,endAction:e.createElement(dt.Z,{onClick:le=>{le.preventDefault(),X(Le=>!Le)},label:K(w?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},w?e.createElement(ut.Z,null):e.createElement(ct.Z,null)),required:!0,label:K({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:w?"text":"password"}),e.createElement(us.X,{onValueChange:le=>{q({target:{value:le,name:"news"}})},value:Ee.news,name:"news","aria-label":"news"},K({id:"Auth.form.register.news.label",defaultMessage:"Keep me updated about new features & upcoming improvements (by doing this you accept the {terms} and the {policy})."},{terms:e.createElement(zt,{target:"_blank",href:"https://strapi.io/terms",rel:"noreferrer"},K({id:"Auth.privacy-policy-agreement.terms",defaultMessage:"terms"})),policy:e.createElement(zt,{target:"_blank",href:"https://strapi.io/privacy",rel:"noreferrer"},K({id:"Auth.privacy-policy-agreement.policy",defaultMessage:"policy"}))})),e.createElement(lt.z,{fullWidth:!0,size:"L",type:"submit"},K({id:"Auth.form.button.register",defaultMessage:"Let's start"})))))),!n&&e.createElement(ye.x,{paddingTop:4},e.createElement(Ae.k,{justifyContent:"center"},e.createElement(r.rU,{label:"Auth.link.signin",to:"/auth/login"},K({id:"Auth.link.signin.account",defaultMessage:"Already have an account?"}))))))};Bt.defaultProps={fieldsToDisable:[],noSignin:!1,onSubmit:o=>o.preventDefault()},Bt.propTypes={authType:a().string.isRequired,fieldsToDisable:a().array,noSignin:a().bool,onSubmit:a().func,schema:a().shape({validate:a().func.isRequired,type:a().string.isRequired}).isRequired};var Vt=Bt;const Yt=(0,xe.ZP)(Fe.o)`
  ::-ms-reveal {
    display: none;
  }
`,xt=({onSubmit:o,schema:s})=>{const[n,i]=(0,e.useState)(!1),[l,h]=(0,e.useState)(!1),{formatMessage:f}=(0,Oe.Z)();return e.createElement(me.ZP,null,e.createElement(Qe.o,null,e.createElement(me.bU,null,e.createElement(wt.J9,{enableReinitialize:!0,initialValues:{password:"",confirmPassword:""},onSubmit:o,validationSchema:s,validateOnChange:!1},({values:P,errors:k,handleChange:w})=>e.createElement(r.l0,{noValidate:!0},e.createElement(me.sg,null,e.createElement(Je.Z,null),e.createElement(ye.x,{paddingTop:6,paddingBottom:7},e.createElement(Te.Z,{as:"h1",variant:"alpha"},f({id:"global.reset-password",defaultMessage:"Reset password"}))),k.errorMessage&&e.createElement(Te.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},f({id:k.errorMessage,defaultMessage:"An error occurred"}))),e.createElement(Ae.k,{direction:"column",alignItems:"stretch",gap:6},e.createElement(Yt,{name:"password",onChange:w,value:P.password,error:k.password?f({id:k.password,defaultMessage:"This field is required."}):void 0,endAction:e.createElement(dt.Z,{onClick:X=>{X.preventDefault(),i(C=>!C)},label:f(n?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},n?e.createElement(ut.Z,null):e.createElement(ct.Z,null)),hint:f({id:"Auth.form.password.hint",defaultMessage:"Password must contain at least 8 characters, 1 uppercase, 1 lowercase and 1 number"}),required:!0,label:f({id:"global.password",defaultMessage:"Password"}),type:n?"text":"password"}),e.createElement(Yt,{name:"confirmPassword",onChange:w,value:P.confirmPassword,error:k.confirmPassword?f({id:k.confirmPassword,defaultMessage:"This value is required."}):void 0,endAction:e.createElement(dt.Z,{onClick:X=>{X.preventDefault(),h(C=>!C)},label:f(n?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},l?e.createElement(ut.Z,null):e.createElement(ct.Z,null)),required:!0,label:f({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:l?"text":"password"}),e.createElement(lt.z,{fullwidth:!0,type:"submit"},f({id:"global.change-password",defaultMessage:"Change password"})))))),e.createElement(Ae.k,{justifyContent:"center"},e.createElement(ye.x,{paddingTop:4},e.createElement(r.rU,{to:"/auth/login"},f({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};xt.defaultProps={onSubmit:o=>o.preventDefault()},xt.propTypes={onSubmit:a().func,schema:a().shape({type:a().string.isRequired}).isRequired};var cs=xt;const ds=(()=>window&&window.strapi&&window.strapi.isEE?t(98768).Z:t(5365).Z)(),Qt={"forgot-password":{Component:os,endPoint:"forgot-password",fieldsToDisable:[],fieldsToOmit:[],schema:z.Ry().shape({email:z.Z_().email(r.I0.email).required(r.I0.required)}),inputsPrefix:""},"forgot-password-success":{Component:rs,endPoint:"",fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},login:{Component:ds,endPoint:"login",fieldsToDisable:[],fieldsToOmit:["rememberMe"],schema:z.Ry().shape({email:z.Z_().email(r.I0.email).required(r.I0.required),password:z.Z_().required(r.I0.required),rememberMe:z.Xg().nullable()}),inputsPrefix:""},oops:{Component:is,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},register:{Component:Vt,endPoint:"register",fieldsToDisable:["email"],fieldsToOmit:["userInfo.confirmPassword","userInfo.news","userInfo.email"],schema:z.Ry().shape({firstname:z.Z_().trim().required(r.I0.required),lastname:z.Z_(),password:z.Z_().min(8,r.I0.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(r.I0.required),confirmPassword:z.Z_().oneOf([z.iH("password"),null],"components.Input.error.password.noMatch").required(r.I0.required),registrationToken:z.Z_().required(r.I0.required)}),inputsPrefix:"userInfo."},"register-admin":{Component:Vt,endPoint:"register-admin",noSignin:!0,fieldsToDisable:[],fieldsToOmit:["confirmPassword","news"],schema:z.Ry().shape({firstname:z.Z_().trim().required(r.I0.required),lastname:z.Z_(),password:z.Z_().min(8,r.I0.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(r.I0.required),email:z.Z_().email(r.I0.email).strict().lowercase(r.I0.lowercase).required(r.I0.required),confirmPassword:z.Z_().oneOf([z.iH("password"),null],"components.Input.error.password.noMatch").required(r.I0.required)}),inputsPrefix:""},"reset-password":{Component:cs,endPoint:"reset-password",fieldsToDisable:[],fieldsToOmit:["confirmPassword"],schema:z.Ry().shape({password:z.Z_().min(8,r.I0.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(r.I0.required),confirmPassword:z.Z_().oneOf([z.iH("password"),null],"components.Input.error.password.noMatch").required(r.I0.required)})}};var ms=o=>o;const Jt={formErrors:{},modifiedData:{},requestError:null},gs=(o,s)=>(0,I.ZP)(o,n=>{switch(s.type){case"ON_CHANGE":{je()(n.modifiedData,s.keys.split("."),s.value);break}case"RESET_PROPS":return Jt;case"SET_DATA":{n.modifiedData=s.data;break}case"SET_ERRORS":{n.formErrors=s.errors;break}case"SET_REQUEST_ERROR":{n.requestError={errorMessage:s.errorMessage,errorStatus:s.errorStatus};break}default:return n}}),Wt=({hasAdmin:o,setHasAdmin:s})=>{const{push:n,location:{search:i}}=(0,fe.k6)(),{changeLocale:l}=(0,ns.Z)(),{setSkipped:h}=(0,r.c1)(),{trackUsage:f}=(0,r.rS)(),{params:{authType:P}}=(0,fe.$B)("/auth/:authType"),k=(0,r.aM)(),w=(0,Pe.c)(Qt,async()=>(await t.e(1386).then(t.bind(t,91386))).FORMS,{combine(Y,oe){return{...Y,...oe}},defaultValue:Qt}),[{formErrors:X,modifiedData:C,requestError:re},_]=(0,e.useReducer)(gs,Jt,ms),te=ce.default.CancelToken.source(),{Component:K,endPoint:Ge,fieldsToDisable:ze,fieldsToOmit:ae,inputsPrefix:ie,schema:Ce,...Ee}=w?.[P]??{};(0,e.useEffect)(()=>()=>{te.cancel("Component unmounted")},[]);const{post:Z}=(0,r.kY)();(0,e.useEffect)(()=>{_({type:"RESET_PROPS"})},[P]);const q=({target:{name:Y,value:oe}})=>{_({type:"ON_CHANGE",keys:Y,value:oe})},le=async(Y,{setSubmitting:oe,setErrors:Me})=>{oe(!0);const be=it()(Y,ae),Q=`/admin/${Ge}`;P==="login"&&await Is(Y,Q,{setSubmitting:oe,setErrors:Me}),(P==="register"||P==="register-admin")&&await Os(Y,Q,{setSubmitting:oe,setErrors:Me}),P==="forgot-password"&&await Le(be,Q,{setSubmitting:oe,setErrors:Me}),P==="reset-password"&&await bs(be,Q,{setSubmitting:oe,setErrors:Me})},Le=async(Y,oe,{setSubmitting:Me,setErrors:be})=>{try{await Z(oe,Y,{cancelToken:te.token}),n("/auth/forgot-password-success")}catch(Q){console.error(Q),be({errorMessage:"notification.error"})}finally{Me(!1)}},Is=async(Y,oe,{setSubmitting:Me,setErrors:be})=>{try{const{data:{data:{token:Q,user:ge}}}=await Z(oe,it()(Y,ae),{cancelToken:te.token});ge.preferedLanguage&&l(ge.preferedLanguage),r.I8.setToken(Q,Y.rememberMe),r.I8.setUserInfo(ge,Y.rememberMe),_t()}catch(Q){if(Q.response){const ge=De()(Q,["response","data","error","message"],"Something went wrong");if(He()(ge).toLowerCase()==="usernotactive"){n("/auth/oops"),_({type:"RESET_PROPS"});return}be({errorMessage:ge})}}finally{Me(!1)}},Os=async(Y,oe,{setSubmitting:Me,setErrors:be})=>{try{f("willCreateFirstAdmin");const{data:{data:{token:Q,user:ge}}}=await Z(oe,it()(Y,ae),{cancelToken:te.token});r.I8.setToken(Q,!1),r.I8.setUserInfo(ge,!1),Me(!1),s(!0);const{roles:Xe}=ge;if(Xe&&Xe.find(({code:Us})=>Us==="strapi-super-admin")&&(Ie.setSkipped(!1),h(!1),f("didLaunchGuidedtour")),P==="register"&&Y.userInfo.news===!0||P==="register-admin"&&Y.news===!0){n({pathname:"/usecase",search:`?hasAdmin=${o}`});return}_t()}catch(Q){if(f("didNotCreateFirstAdmin"),Q.response){const{data:ge}=Q.response,Xe=(0,as.Z)(ge);be({apiErrors:Xe})}}},bs=async(Y,oe,{setErrors:Me,setSubmitting:be})=>{try{const{data:{data:{token:Q,user:ge}}}=await Z(oe,{...Y,resetPasswordToken:k.get("code")},{cancelToken:te.token});r.I8.setToken(Q,!1),r.I8.setUserInfo(ge,!1),n("/")}catch(Q){if(Q.response){const ge=De()(Q,["response","data","message"],"Something went wrong"),Xe=De()(Q,["response","data","statusCode"],400);_({type:"SET_REQUEST_ERROR",errorMessage:ge,errorStatus:Xe}),Me({errorMessage:ge})}}finally{be(!1)}},_t=()=>{if(P==="login"){const Y=k.get("redirectTo"),oe=Y?decodeURIComponent(Y):"/";n(oe)}else n("/")};return!w[P]||o&&P==="register-admin"||r.I8.getToken()?e.createElement(fe.l_,{to:"/"}):!o&&P!=="register-admin"?e.createElement(fe.l_,{to:{pathname:"/auth/register-admin",search:i}}):e.createElement(K,{...Ee,authType:P,fieldsToDisable:ze,formErrors:X,inputsPrefix:ie,modifiedData:C,onChange:q,onSubmit:le,requestError:re,schema:Ce})};Wt.defaultProps={hasAdmin:!1},Wt.propTypes={hasAdmin:a().bool,setHasAdmin:a().func.isRequired};var ps=Wt,fs=t(53951),hs=t(68465),Es=t(84967),Ps=t(7563),vs=t(33348);const ys=[{intlLabel:{id:"Usecase.front-end",defaultMessage:"Front-end developer"},value:"front_end_developer"},{intlLabel:{id:"Usecase.back-end",defaultMessage:"Back-end developer"},value:"back_end_developer"},{intlLabel:{id:"Usecase.full-stack",defaultMessage:"Full-stack developer"},value:"full_stack_developer"},{intlLabel:{id:"global.content-manager",defaultMessage:"Content Manager"},value:"content_manager"},{intlLabel:{id:"Usecase.content-creator",defaultMessage:"Content Creator"},value:"content_creator"},{intlLabel:{id:"Usecase.other",defaultMessage:"Other"},value:"other"}],Ts=(0,xe.ZP)(Te.Z)`
  text-align: center;
`;var Rs=()=>{const o=(0,r.lm)(),{push:s,location:n}=(0,fe.k6)(),{formatMessage:i}=(0,Oe.Z)(),[l,h]=(0,e.useState)(),[f,P]=(0,e.useState)(""),{post:k}=(0,r.kY)(),{firstname:w,email:X}=r.I8.getUserInfo(),{hasAdmin:C}=(0,vs.parse)(n?.search,{ignoreQueryPrefix:!0}),re=l==="other",_=async(de,te)=>{de.preventDefault();try{await k("https://analytics.strapi.io/register",{email:X,username:w,firstAdmin:Boolean(!C),persona:{role:te?void 0:l,otherRole:te?void 0:f}}),o({type:"success",message:{id:"Usecase.notification.success.project-created",defaultMessage:"Project has been successfully created"}}),s("/")}catch{}};return e.createElement(me.ZP,null,e.createElement(Qe.o,{labelledBy:"usecase-title"},e.createElement(me.bU,null,e.createElement("form",{onSubmit:de=>_(de,!1)},e.createElement(Ae.k,{direction:"column",paddingBottom:7},e.createElement(Je.Z,null),e.createElement(ye.x,{paddingTop:6,paddingBottom:1,width:(0,r.Q1)(250)},e.createElement(Ts,{variant:"alpha",as:"h1",id:"usecase-title"},i({id:"Usecase.title",defaultMessage:"Tell us a bit more about yourself"})))),e.createElement(Ae.k,{direction:"column",alignItems:"stretch",gap:6},e.createElement(hs.P,{id:"usecase","data-testid":"usecase",label:i({id:"Usecase.input.work-type",defaultMessage:"What type of work do you do?"}),onChange:h,value:l},ys.map(({intlLabel:de,value:te})=>e.createElement(Es.W,{key:te,value:te},i(de)))),re&&e.createElement(Fe.o,{name:"other",label:i({id:"Usecase.other",defaultMessage:"Other"}),value:f,onChange:de=>P(de.target.value),"data-testid":"other"}),e.createElement(lt.z,{type:"submit",size:"L",fullWidth:!0,disabled:!l},i({id:"global.finish",defaultMessage:"Finish"}))))),e.createElement(Ae.k,{justifyContent:"center"},e.createElement(ye.x,{paddingTop:4},e.createElement(Ps.A,{onClick:()=>_(!0)},i({id:"Usecase.button.skip",defaultMessage:"Skip this question"}))))))},Xt=t(26648);const As=(0,e.lazy)(()=>Promise.all([t.e(6691),t.e(801)]).then(t.bind(t,29761)));function Cs(){const o=(0,Pe.c)(Ke,async()=>(await t.e(7394).then(t.bind(t,17394))).ADMIN_PERMISSIONS_EE,{combine(ae,ie){return L()({},ae,ie)},defaultValue:Ke}),s=(0,Pe.c)(Xt.y3,async()=>(await t.e(3528).then(t.bind(t,53528))).ROUTES_EE,{defaultValue:[]}),n=(0,r.lm)(),{updateProjectSettings:i}=(0,Dt.um)(),{formatMessage:l}=(0,Oe.Z)(),[{isLoading:h,hasAdmin:f,uuid:P,deviceId:k},w]=(0,e.useState)({isLoading:!0,hasAdmin:!1}),X=(0,se.I0)(),C=(0,r.L7)(),{get:re,post:_}=(0,r.kY)(),de=(0,e.useMemo)(()=>(0,ue.WW)(s.map(({to:ae,Component:ie,exact:Ce})=>(0,ue.ot)(ie,ae,Ce))),[s]),[te,K]=(0,e.useState)(null);(0,e.useEffect)(()=>{X({type:Xt.XS,payload:o})},[o,X]),(0,e.useEffect)(()=>{const ae=r.I8.getToken();ae&&(async()=>{try{const{data:{data:{token:Ce}}}=await _("/admin/renew-token",{token:ae});r.I8.updateToken(Ce)}catch{r.I8.clearAppStorage(),window.location.reload()}})()},[_]),(0,e.useEffect)(()=>{(async()=>{try{const{data:{data:{hasAdmin:ie,uuid:Ce,menuLogo:Ee,authLogo:Z}}}=await re("/admin/init");if(i({menuLogo:(0,r.CR)(Ee),authLogo:(0,r.CR)(Z)}),Ce){const{data:{data:q}}=await re("/admin/telemetry-properties",{validateStatus:le=>le<500});K(q);try{const le="didInitializeAdministration";await _("https://analytics.strapi.io/api/v2/track",{event:le,userId:"",deviceId:k,eventPropeties:{},userProperties:{environment:C.currentEnvironment},groupProperties:{...q,projectId:Ce}},{headers:{"X-Strapi-Event":le}})}catch{}}w({isLoading:!1,hasAdmin:ie,uuid:Ce,deviceId:k})}catch{n({type:"warning",message:{id:"app.containers.App.notification.error.init"}})}})()},[n,i]);const Ge=ae=>w(ie=>({...ie,hasAdmin:ae})),ze=(0,e.useMemo)(()=>({uuid:P,telemetryProperties:te,deviceId:k}),[P,te,k]);return h?e.createElement(r.dO,null):e.createElement(e.Suspense,{fallback:e.createElement(r.dO,null)},e.createElement(We.z,null,l({id:"skipToContent"})),e.createElement(r.L8,{value:ze},e.createElement(fe.rs,null,de,e.createElement(fe.AW,{path:"/auth/:authType",render:ae=>e.createElement(ps,{...ae,setHasAdmin:Ge,hasAdmin:f}),exact:!0}),e.createElement(we,{path:"/usecase",component:Rs}),e.createElement(we,{path:"/",component:As}),e.createElement(fe.AW,{path:"",component:fs.default}))))}var Ms=Cs,Ls={ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",ca:"Catal\xE0",cs:"\u010Ce\u0161tina",de:"Deutsch",dk:"Dansk",en:"English",es:"Espa\xF1ol",eu:"Euskara",fr:"Fran\xE7ais",gu:"Gujarati",he:"\u05E2\u05D1\u05E8\u05D9\u05EA",hu:"Magyar",id:"Indonesian",it:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",ml:"Malayalam",ms:"Melayu",nl:"Nederlands",no:"Norwegian",pl:"Polski","pt-BR":"Portugu\xEAs (Brasil)",pt:"Portugu\xEAs (Portugal)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sk:"Sloven\u010Dina",sv:"Swedish",th:"\u0E44\u0E17\u0E22",tr:"T\xFCrk\xE7e",uk:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",vi:"Ti\u1EBFng Vi\u1EC7t","zh-Hans":"\u4E2D\u6587 (\u7B80\u4F53)",zh:"\u4E2D\u6587 (\u7E41\u9AD4)",sa:"\u0938\u0902\u0938\u094D\u0915\u0943\u0924",hi:"\u0939\u093F\u0928\u094D\u0926\u0940"};class Ss{constructor({adminConfig:s,appPlugins:n,library:i,middlewares:l,reducers:h}){this.customConfigurations=s.config,this.customBootstrapConfiguration=s.bootstrap,this.configurations={authLogo:R,head:{favicon:ke},locales:["en"],menuLogo:R,notifications:{releases:!0},themes:{light:p.W,dark:y.$},translations:{},tutorials:!0},this.appPlugins=n||{},this.library=i,this.middlewares=l,this.plugins={},this.reducers=h,this.translations={},this.hooksDict={},this.admin={injectionZones:Ye},this.customFields=U.rh,this.menu=[],this.settings={global:{id:"global",intlLabel:{id:"Settings.global",defaultMessage:"Global Settings"},links:[]}}}addComponents=s=>{Array.isArray(s)?s.map(n=>this.library.components.add(n)):this.library.components.add(s)};addCorePluginMenuLink=s=>{const n=JSON.stringify(s);c()(s.to,`link.to should be defined for ${n}`),c()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),c()(["/plugins/content-type-builder","/plugins/upload"].includes(s.to),"This method is not available for your plugin"),c()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${n}`),this.menu.push(s)};addFields=s=>{Array.isArray(s)?s.map(n=>this.library.fields.add(n)):this.library.fields.add(s)};addMenuLink=s=>{const n=JSON.stringify(s);c()(s.to,`link.to should be defined for ${n}`),c()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),c()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${n}`),c()(s.Component&&typeof s.Component=="function","link.Component should be a valid React Component"),c()(s.icon&&typeof s.icon=="function","link.Icon should be a valid React Component"),this.menu.push(s)};addMiddlewares=s=>{s.forEach(n=>{this.middlewares.add(n)})};addReducers=s=>{Object.keys(s).forEach(n=>{this.reducers.add(n,s[n])})};addSettingsLink=(s,n)=>{c()(this.settings[s],"The section does not exist");const i=JSON.stringify(n);c()(n.id,`link.id should be defined for ${i}`),c()(n.intlLabel?.id&&n.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${i}`),c()(n.to,`link.to should be defined for ${i}`),c()(n.Component&&typeof n.Component=="function","link.Component should be a valid React Component"),this.settings[s].links.push(n)};addSettingsLinks=(s,n)=>{c()(this.settings[s],"The section does not exist"),c()(Array.isArray(n),"TypeError expected links to be an array"),n.forEach(i=>{this.addSettingsLink(s,i)})};async bootstrap(){Object.keys(this.appPlugins).forEach(s=>{const n=this.appPlugins[s].bootstrap;n&&n({addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}),A()(this.customBootstrapConfiguration)&&this.customBootstrapConfiguration({addComponents:this.addComponents,addFields:this.addFields,addMenuLink:this.addMenuLink,addReducers:this.addReducers,addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}bootstrapAdmin=async()=>(await this.createCustomConfigurations(),this.createHook(J.No),this.createHook(J.LK),this.createHook(J.dV),this.createHook(J.Eo),Promise.resolve());createCustomConfigurations=async()=>{if(this.customConfigurations?.locales&&(this.configurations.locales=["en",...this.customConfigurations.locales?.filter(s=>s!=="en")||[]]),this.customConfigurations?.auth?.logo&&(this.configurations.authLogo=this.customConfigurations.auth.logo),this.customConfigurations?.menu?.logo&&(this.configurations.menuLogo=this.customConfigurations.menu.logo),this.customConfigurations?.head?.favicon&&(this.configurations.head.favicon=this.customConfigurations.head.favicon),this.customConfigurations?.theme){const s=this.customConfigurations.theme.dark,n=this.customConfigurations.theme.light;!s&&!n&&(console.warn("[deprecated] In future versions, Strapi will stop supporting this theme customization syntax. The theme configuration accepts a light and a dark key to customize each theme separately. See https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#theme-extension."),L()(this.configurations.themes.light,this.customConfigurations.theme)),n&&L()(this.configurations.themes.light,n),s&&L()(this.configurations.themes.dark,s)}this.customConfigurations?.notifications?.releases!==void 0&&(this.configurations.notifications.releases=this.customConfigurations.notifications.releases),this.customConfigurations?.tutorials!==void 0&&(this.configurations.tutorials=this.customConfigurations.tutorials)};createHook=s=>{this.hooksDict[s]=V()};createSettingSection=(s,n)=>{c()(s.id,"section.id should be defined"),c()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,"section.intlLabel should be defined"),c()(Array.isArray(n),"TypeError expected links to be an array"),c()(this.settings[s.id]===void 0,"A similar section already exists"),this.settings[s.id]={...s,links:[]},n.forEach(i=>{this.addSettingsLink(s.id,i)})};createStore=()=>H(this.middlewares.middlewares,this.reducers.reducers);getAdminInjectedComponents=(s,n,i)=>{try{return this.admin.injectionZones[s][n][i]||[]}catch(l){return console.error("Cannot get injected component",l),l}};getPlugin=s=>this.plugins[s];async initialize(){Object.keys(this.appPlugins).forEach(s=>{this.appPlugins[s].register(this)})}injectContentManagerComponent=(s,n,i)=>{c()(this.admin.injectionZones.contentManager[s]?.[n],`The ${s} ${n} zone is not defined in the content manager`),c()(i,"A Component must be provided"),this.admin.injectionZones.contentManager[s][n].push(i)};injectAdminComponent=(s,n,i)=>{c()(this.admin.injectionZones.admin[s]?.[n],`The ${s} ${n} zone is not defined in the admin`),c()(i,"A Component must be provided"),this.admin.injectionZones.admin[s][n].push(i)};async loadAdminTrads(){const s=this.configurations.locales.map(l=>t(48224)(`./${l}.json`).then(({default:h})=>({data:h,locale:l})).catch(()=>({data:null,locale:l})));return(await Promise.all(s)).reduce((l,h)=>(h.data&&(l[h.locale]=h.data),l),{})}async loadTrads(){const s=await this.loadAdminTrads(),n=Object.keys(this.appPlugins).map(f=>{const P=this.appPlugins[f].registerTrads;return P?P({locales:this.configurations.locales}):null}).filter(f=>f),l=(await Promise.all(n)).reduce((f,P)=>{const k=P.reduce((w,X)=>(w[X.locale]=X.data,w),{});return Object.keys(k).forEach(w=>{f[w]={...f[w],...k[w]}}),f},{}),h=this.configurations.locales.reduce((f,P)=>(f[P]={...s[P],...l[P]||{},...this.customConfigurations?.translations?.[P]},f),{});return this.configurations.translations=h,Promise.resolve()}registerHook=(s,n)=>{c()(this.hooksDict[s],`The hook ${s} is not defined. You are trying to register a hook that does not exist in the application.`),this.hooksDict[s].register(n)};registerPlugin=s=>{const n=(0,U.Sy)(s);this.plugins[n.pluginId]=n};runHookSeries=(s,n=!1)=>n?this.hooksDict[s].runSeriesAsync():this.hooksDict[s].runSeries();runHookWaterfall=(s,n,i=!1,l)=>i?this.hooksDict[s].runWaterfallAsync(n,l):this.hooksDict[s].runWaterfall(n,l);runHookParallel=s=>this.hooksDict[s].runParallel();render(){const s=this.createStore(),n=O()(Ls,this.configurations.locales||[]),{components:{components:i},fields:{fields:l}}=this.library;return e.createElement(u,{authLogo:this.configurations.authLogo,components:i,fields:l,customFields:this.customFields,localeNames:n,getAdminInjectedComponents:this.getAdminInjectedComponents,getPlugin:this.getPlugin,messages:this.configurations.translations,menu:this.menu,menuLogo:this.configurations.menuLogo,plugins:this.plugins,runHookParallel:this.runHookParallel,runHookWaterfall:(h,f,P=!1)=>this.runHookWaterfall(h,f,P,s),runHookSeries:this.runHookSeries,themes:this.configurations.themes,settings:this.settings,showTutorials:this.configurations.tutorials,showReleaseNotification:this.configurations.notifications.releases,store:s},e.createElement(e.Fragment,null,e.createElement(b.q,{link:[{rel:"icon",type:"image/png",href:this.configurations.head.favicon}],htmlAttributes:{lang:localStorage.getItem(T)||"en"}}),e.createElement(S.VK,{basename:ee.Z},e.createElement(Ms,{store:s}))))}}var Ds=({adminConfig:o={},appPlugins:s,library:n,middlewares:i,reducers:l})=>new Ss({adminConfig:o,appPlugins:s,library:n,middlewares:i,reducers:l})},5985:function(B,v,t){"use strict";var e=t(32735);const p=(0,e.createContext)();v.Z=p},20139:function(B,v,t){"use strict";var e=t(32735),p=t(5985);const y=()=>{const{changeLocale:E,localeNames:c,messages:m}=(0,e.useContext)(p.Z);return{changeLocale:E,localeNames:c,messages:m}};v.Z=y},10190:function(B,v,t){"use strict";var e=t(32735),p=t(8471),y=t(10328);const E=p.ZP.img`
  height: ${72/16}rem;
`,c=()=>{const{logos:{auth:m}}=(0,y.um)();return e.createElement(E,{src:m?.custom??m.default,"aria-hidden":!0,alt:""})};v.Z=c},66694:function(B,v,t){"use strict";t.d(v,{ux:function(){return y},_5:function(){return c},$l:function(){return A},Rj:function(){return L}});var e=t(32735),y=(0,e.createContext)({}),c=(0,e.createContext)({}),A=(0,e.createContext)({}),L=(0,e.createContext)({})},78246:function(B,v){"use strict";const t="/admin/".replace(window.location.origin,"");v.Z=t},46339:function(B,v,t){"use strict";t.d(v,{Eo:function(){return y},LK:function(){return p},No:function(){return e},dV:function(){return E}});const e="Admin/CM/pages/ListView/inject-column-in-table",p="Admin/CM/pages/App/mutate-collection-types-links",y="Admin/CM/pages/EditView/mutate-edit-view-layout",E="Admin/CM/pages/App/mutate-single-types-links"},10328:function(B,v,t){"use strict";t.d(v,{um:function(){return E},U_:function(){return b},Dq:function(){return r},H9:function(){return je},$_:function(){return Ve},rW:function(){return et},bF:function(){return ht},G4:function(){return Lt},Te:function(){return Ut},M1:function(){return jt}});var e=t(32735),p=t(66694),E=()=>(0,e.useContext)(p._5),c=t(70166),m=t(19565),A=t(97889);const M={data:{},error:null,isLoading:!0};var x=(g,d)=>(0,A.ZP)(g,u=>{switch(d.type){case"GET_DATA":{u.isLoading=!0,u.data={},u.error=null;break}case"GET_DATA_SUCCEEDED":{u.data=d.data,u.isLoading=!1,u.error=null;break}case"GET_DATA_ERROR":{u.isLoading=!1,u.error=d.error;break}default:return u}}),b=g=>{const[{data:d,error:u,isLoading:U},j]=(0,e.useReducer)(x,M),{get:N}=(0,m.kY)();return(0,e.useEffect)(()=>{(async()=>{try{j({type:"GET_DATA"});const{data:{data:H}}=await N("/admin/permissions",{params:{role:g}});j({type:"GET_DATA_SUCCEEDED",data:H})}catch{}})()},[g,N]),{data:d,error:u,isLoading:U}};const S={role:{},permissions:{},isLoading:!0};var W=(g,d)=>(0,A.ZP)(g,u=>{switch(d.type){case"GET_DATA_SUCCEEDED":{u.role=d.role,u.permissions=d.permissions,u.isLoading=!1;break}case"GET_DATA_ERROR":{u.isLoading=!1;break}case"ON_SUBMIT_SUCCEEDED":{u.role.name=d.name,u.role.description=d.description;break}default:return u}}),r=g=>{const d=(0,m.lm)(),[u,U]=(0,e.useReducer)(W,S),{get:j}=(0,m.kY)();(0,e.useEffect)(()=>{g?(async H=>{try{const[{data:{data:ee}},{data:{data:ve}}]=await Promise.all([`roles/${H}`,`roles/${H}/permissions`].map(V=>j(`/admin/${V}`)));U({type:"GET_DATA_SUCCEEDED",role:ee,permissions:ve})}catch(ee){console.error(ee),U({type:"GET_DATA_ERROR"}),d({type:"warning",message:{id:"notification.error"}})}})(g):U({type:"GET_DATA_SUCCEEDED",role:{},permissions:[]})},[j,g,d]);const N=(0,e.useCallback)($=>{U({type:"ON_SUBMIT_SUCCEEDED",...$})},[]);return{...u,onSubmitSucceeded:N}},F=t(2287),a=t(36919),G=t(45112),se=t(15062),D=t(78125),I=t(99381),ne=t.n(I),Re=(g,d)=>d.map(({permissions:u})=>(0,m.qX)(g,u)),Ze=async(g,d,u)=>{const U=Re(g,d),j=await Promise.all(U),N=d.filter((ee,ve)=>j[ve]),$=N.findIndex(ee=>ee.to==="/settings");if($===-1)return[];const H=ne()(N);return H[$].notificationsCount=u?1:0,H},De=async(g,d)=>{const u=Re(g,d),U=await Promise.all(u);return d.filter((N,$)=>U[$])},je=()=>{const{allPermissions:g}=(0,m.vn)(),{shouldUpdateStrapi:d}=(0,m.L7)(),{menu:u}=(0,m.j1)(),U=(0,se.v9)(D._),[j,N]=e.useState({generalSectionLinks:[{icon:F.Z,intlLabel:{id:"global.plugins",defaultMessage:"Plugins"},to:"/list-plugins",permissions:U.marketplace.main},{icon:a.Z,intlLabel:{id:"global.marketplace",defaultMessage:"Marketplace"},to:"/marketplace",permissions:U.marketplace.main},{icon:G.Z,intlLabel:{id:"global.settings",defaultMessage:"Settings"},to:"/settings",permissions:[],notificationsCount:0}],pluginsSectionLinks:[],isLoading:!0}),$=e.useRef(j.generalSectionLinks);return e.useEffect(()=>{async function H(){const ee=await De(g,u),ve=await Ze(g,$.current,d);N(V=>({...V,generalSectionLinks:ve,pluginsSectionLinks:ee,isLoading:!1}))}H()},[N,$,g,u,U,d]),j},Ve=()=>(0,e.useContext)(p.$l),et=(g,d,u,U)=>{const[j,N]=(0,e.useState)(!1),$=(0,m.lm)(),{post:H}=(0,m.kY)(),{formatAPIError:ee}=(0,m.So)();return{regenerateData:async()=>{try{const{data:{data:{accessKey:V}}}=await H(`${g}${d}/regenerate`);N(!1),u(V)}catch(V){N(!1),U?U(V):$({type:"warning",message:ee(V)})}},isLoadingConfirmation:j}};const _e=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),qt=()=>{const{latestStrapiReleaseTag:g,shouldUpdateStrapi:d}=useAppInfo(),u=useNotification();return useEffect(()=>{d&&_e&&u({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${g}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)})},[g,d,u]),null};var Ie=null,Nt=t(33795),gt=t.n(Nt),Kt=(g,d)=>({...g,isLoading:d});const tt={roles:[],isLoading:!0};var ft=(g,d)=>(0,A.ZP)(g,u=>{switch(d.type){case"GET_DATA":{u.isLoading=!0,u.roles=[];break}case"GET_DATA_SUCCEEDED":{u.roles=d.data,u.isLoading=!1;break}case"GET_DATA_ERROR":{u.isLoading=!1;break}default:return u}}),ht=(g=!0)=>{const d=(0,m.lm)(),[{roles:u,isLoading:U},j]=(0,e.useReducer)(ft,tt,()=>Kt(tt,g));(0,e.useEffect)(()=>{g&&N()},[g]);const N=(0,e.useCallback)(async()=>{const $=(0,m.tg)();try{j({type:"GET_DATA"});const{data:{data:H}}=await $.get("/admin/roles");j({type:"GET_DATA_SUCCEEDED",data:H})}catch(H){const ee=gt()(H,["response","payload","message"],"An error occured");j({type:"GET_DATA_ERROR"}),ee!=="Forbidden"&&d({type:"warning",message:ee})}},[d]);return{roles:u,isLoading:U,getData:N}},st=t(9086),Et=t.n(st),nt=t(8997),Pt=(g,d)=>({...g,fieldsToPick:d}),vt=t(88423),Be=t.n(vt),yt=t(3040),Tt=t.n(yt),Rt=t(56236),at=t.n(Rt);const At={fieldsToPick:[],formErrors:{},initialData:{},isLoading:!0,modifiedData:{},showHeaderButtonLoader:!1,showHeaderLoader:!0},Ct=(g,d)=>(0,A.ZP)(g,u=>{switch(d.type){case"GET_DATA_SUCCEEDED":{u.isLoading=!1,u.showHeaderLoader=!1,u.initialData=Be()(d.data,g.fieldsToPick),u.modifiedData=Be()(d.data,g.fieldsToPick);break}case"ON_CANCEL":{u.modifiedData=g.initialData,u.formErrors={};break}case"ON_CHANGE":{d.inputType==="password"&&!d.value?at()(u.modifiedData,d.keys.split(".")):d.keys.includes("username")&&!d.value?Tt()(u.modifiedData,d.keys.split("."),null):Tt()(u.modifiedData,d.keys.split("."),d.value);break}case"ON_SUBMIT":{u.showHeaderButtonLoader=!0;break}case"ON_SUBMIT_SUCCEEDED":{u.initialData=Be()(d.data,g.fieldsToPick),u.modifiedData=Be()(d.data,g.fieldsToPick),u.showHeaderButtonLoader=!1;break}case"SET_ERRORS":{u.formErrors=d.errors,u.showHeaderButtonLoader=!1;break}default:return u}});var Lt=(g,d,u,U)=>{const[{formErrors:j,initialData:N,isLoading:$,modifiedData:H,showHeaderButtonLoader:ee,showHeaderLoader:ve},V]=(0,e.useReducer)(Ct,At,()=>Pt(At,U)),J=(0,m.lm)(),{lockApp:ke,unlockApp:rt}=(0,m.o1)(),{get:Ye,put:We}=(0,m.kY)();return(0,e.useEffect)(()=>{g&&(async()=>{try{const{data:{data:ue}}=await Ye(g);V({type:"GET_DATA_SUCCEEDED",data:ue,fieldsToPick:U})}catch(ue){console.error(ue.response),J({type:"warning",message:{id:"notification.error"}})}})()},[g]),[{formErrors:j,initialData:N,isLoading:$,modifiedData:H,showHeaderButtonLoader:ee,showHeaderLoader:ve},V,{handleCancel:()=>{V({type:"ON_CANCEL"})},handleChange:({target:{name:Pe,value:ue,type:ce}})=>{V({type:"ON_CHANGE",inputType:ce,keys:Pe,value:ue})},handleSubmit:async Pe=>{Pe.preventDefault();const ue=await(0,nt.R6)(H,d);if(V({type:"SET_ERRORS",errors:ue||{}}),!ue)try{ke(),V({type:"ON_SUBMIT"});const ce=Et()(H,["confirmPassword","registrationToken"]);ce.roles&&(ce.roles=ce.roles.map(He=>He.id)),ce.ssoLockedRoles&&(ce.ssoLockedRoles=[...new Set(ce.ssoLockedRoles)]);const{data:{data:he}}=await We(g,ce);u(he),V({type:"ON_SUBMIT_SUCCEEDED",data:he}),J({type:"success",message:{id:"notification.success.saved"}})}catch(ce){const he=ce?.response?.payload??{data:{}};he?.data&&typeof he.data=="string"?J({type:"warning",message:he.data}):J({type:"warning",message:he.message});const He=(0,nt.Iz)(he);V({type:"SET_ERRORS",errors:He})}finally{rt()}},setField:(Pe,ue)=>{V({type:"ON_CHANGE",keys:Pe,value:ue})}}]},St=t(18782);const Oe={global:[{intlLabel:{id:"Settings.application.title",defaultMessage:"Overview"},to:"/settings/application-infos",id:"000-application-infos",permissions:[]},{intlLabel:{id:"Settings.webhooks.title",defaultMessage:"Webhooks"},to:"/settings/webhooks",id:"webhooks"},{intlLabel:{id:"Settings.apiTokens.title",defaultMessage:"API Tokens"},to:"/settings/api-tokens?sort=name:ASC",id:"api-tokens"},{intlLabel:{id:"Settings.transferTokens.title",defaultMessage:"Transfer Tokens"},to:"/settings/transfer-tokens?sort=name:ASC",id:"transfer-tokens"}],admin:[{intlLabel:{id:"global.roles",defaultMessage:"Roles"},to:"/settings/roles",id:"roles"},{intlLabel:{id:"global.users"},to:"/settings/users?pageSize=10&page=1&sort=firstname",id:"users"}]};var xe=g=>g.map(d=>{const u=d.links.map(U=>({...U,isDisplayed:!1}));return{...d,links:u}}),Ft=t(98978),It=t.n(Ft),bt=g=>It()(g,d=>d.id),Ut=()=>{const[{isLoading:g,menu:d},u]=(0,e.useState)({isLoading:!0,menu:[]}),{allPermissions:U}=(0,m.vn)(),{shouldUpdateStrapi:j}=(0,m.L7)(),{settings:N}=(0,m.j1)(),$=(0,se.v9)(D._),{global:H,admin:ee}=(0,St.c)(Oe,async()=>(await t.e(1970).then(t.bind(t,43278))).LINKS_EE,{combine(J,ke){return{admin:[...ke.admin,...J.admin],global:[...J.global,...ke.global]}},defaultValue:{admin:[],global:[]}}),ve=(0,e.useCallback)(J=>{if(!J.id)throw new Error("The settings menu item must have an id attribute.");return{...J,permissions:$.settings?.[J.id]?.main}},[$.settings]);(0,e.useEffect)(()=>{const J=async()=>{const fe=await(Ne=>Promise.all(Ne.reduce((we,Ke,Pe)=>{const ue=ce=>ce.map(async(he,He)=>({hasPermission:await(0,m.qX)(U,he.permissions),sectionIndex:Pe,linkIndex:He}));return[...we,...ue(Ke.links)]},[])))(Ye);u(Ne=>({...Ne,isLoading:!1,menu:Ye.map((we,Ke)=>({...we,links:we.links.map((Pe,ue)=>{const ce=fe.find(he=>he.sectionIndex===Ke&&he.linkIndex===ue);return{...Pe,isDisplayed:Boolean(ce.hasPermission)}})}))}))},{global:ke,...rt}=N,Ye=xe([{...N.global,links:bt([...N.global.links,...H.map(ve)]).map(We=>({...We,hasNotification:We.id==="000-application-infos"&&j}))},{id:"permissions",intlLabel:{id:"Settings.permissions",defaultMessage:"Administration Panel"},links:ee.map(ve)},...Object.values(rt)]);J()},[ee,H,U,N,j,ve]);const V=J=>({...J,links:J.links.filter(ke=>ke.isDisplayed)});return{isLoading:g,menu:d.map(V)}},jt=()=>(0,e.useContext)(p.Rj)},70166:function(B,v,t){"use strict";t.d(v,{G:function(){return y}});var e=t(19565),p=t(20108);function y(){const{get:E}=(0,e.kY)(),{formatAPIError:c}=(0,e.So)(),m=(0,e.lm)(),A=(0,p.useQueries)(["components","content-types"].map(S=>({queryKey:["content-manager",S],async queryFn(){const{data:{data:R}}=await E(`/content-manager/${S}`);return R},onError(R){m({type:"warning",message:c(R)})}}))),[M,L]=A,x=M.isLoading||L.isLoading,O=(L?.data??[]).filter(S=>S.kind==="collectionType"&&S.isDisplayed),b=(L?.data??[]).filter(S=>S.kind!=="collectionType"&&S.isDisplayed);return{isLoading:x,components:M?.data??[],collectionTypes:O,singleTypes:b}}},18782:function(B,v,t){"use strict";t.d(v,{c:function(){return E}});var e=t(32735),p=t(19565);function y(){return window.strapi.isEE}function E(c,m,{defaultValue:A=null,combine:M=(x,O)=>O,enabled:L=!0}={}){const x=(0,p.W6)(m),O=(0,p.W6)(M),[{data:b},S]=e.useState({data:y()&&L?A:c});return e.useEffect(()=>{async function R(){const W=await x();S({data:O(c,W)})}y()&&L&&R()},[c,x,O,L]),b}},954:function(B,v,t){"use strict";t.d(v,{sg:function(){return S},bU:function(){return R},ZP:function(){return T}});var e=t(32735),p=t(72850),y=t(87933),E=t(60216),c=t.n(E),m=t(8471),A=t(34853),M=t(67879),L=t(20139),O=()=>{const{changeLocale:r,localeNames:F}=(0,L.Z)(),{locale:a}=(0,M.Z)();return e.createElement(A.O,{label:F[a]},Object.keys(F).map(G=>e.createElement(A.s,{onClick:()=>r(G),key:G},F[G])))};const b=(0,m.ZP)(p.x)`
  margin: 0 auto;
  width: 552px;
`,S=(0,m.ZP)(y.k)`
  flex-direction: column;
`,R=({children:r})=>e.createElement(b,{shadow:"tableShadow",hasRadius:!0,paddingTop:9,paddingBottom:9,paddingLeft:10,paddingRight:10,background:"neutral0",justifyContent:"center"},r);R.propTypes={children:c().node.isRequired};const W=({children:r})=>e.createElement("div",null,e.createElement(y.k,{as:"header",justifyContent:"flex-end"},e.createElement(p.x,{paddingTop:6,paddingRight:8},e.createElement(O,null))),e.createElement(p.x,{paddingTop:2,paddingBottom:11},r));W.propTypes={children:c().node.isRequired};var T=W},78125:function(B,v,t){"use strict";t.d(v,{_:function(){return E}});var e=t(98178),p=t(49358);const y=()=>c=>c.admin_app||p.E,E=(0,e.P1)(y(),c=>c.permissions)},72218:function(B,v,t){"use strict";var e=t(63642),p=t(8471);const y=(0,p.ZP)(e.E)`
  svg {
    height: 1rem;
    width: 1rem;
    path {
      fill: ${({theme:E})=>E.colors.neutral600};
    }
  }
`;v.Z=y},1115:function(B,v,t){"use strict";var e=t(32735),p=t(10369),y=t(27649),E=t(72850),c=t(49372),m=t(87933),A=t(8284),M=t(41415),L=t(19565),x=t(54894),O=t(60492),b=t(92802),S=t(60216),R=t.n(S),W=t(67879),T=t(8471),r=t(10190),F=t(954),a=t(72218);const G=(0,T.ZP)(p.o)`
  ::-ms-reveal {
    display: none;
  }
`,se=({onSubmit:D,schema:I,children:ne})=>{const[Se,Re]=(0,e.useState)(!1),{formatMessage:pe}=(0,W.Z)();return e.createElement(y.o,null,e.createElement(F.bU,null,e.createElement(b.J9,{enableReinitialize:!0,initialValues:{email:"",password:"",rememberMe:!1},onSubmit:D,validationSchema:I,validateOnChange:!1},({values:Ze,errors:Ue,handleChange:De})=>e.createElement(L.l0,{noValidate:!0},e.createElement(F.sg,null,e.createElement(r.Z,null),e.createElement(E.x,{paddingTop:6,paddingBottom:1},e.createElement(c.Z,{variant:"alpha",as:"h1"},pe({id:"Auth.form.welcome.title",defaultMessage:"Welcome!"}))),e.createElement(E.x,{paddingBottom:7},e.createElement(c.Z,{variant:"epsilon",textColor:"neutral600"},pe({id:"Auth.form.welcome.subtitle",defaultMessage:"Log in to your Strapi account"}))),Ue.errorMessage&&e.createElement(c.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},Ue.errorMessage)),e.createElement(m.k,{direction:"column",alignItems:"stretch",gap:6},e.createElement(p.o,{error:Ue.email?pe({id:Ue.email,defaultMessage:"This value is required."}):"",value:Ze.email,onChange:De,label:pe({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:pe({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),e.createElement(G,{error:Ue.password?pe({id:Ue.password,defaultMessage:"This value is required."}):"",onChange:De,value:Ze.password,label:pe({id:"global.password",defaultMessage:"Password"}),name:"password",type:Se?"text":"password",endAction:e.createElement(a.Z,{onClick:$e=>{$e.stopPropagation(),Re(je=>!je)},label:pe(Se?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Se?e.createElement(x.Z,null):e.createElement(O.Z,null)),required:!0}),e.createElement(A.X,{onValueChange:$e=>{De({target:{value:$e,name:"rememberMe"}})},value:Ze.rememberMe,"aria-label":"rememberMe",name:"rememberMe"},pe({id:"Auth.form.rememberMe.label",defaultMessage:"Remember me"})),e.createElement(M.z,{fullWidth:!0,type:"submit"},pe({id:"Auth.form.button.login",defaultMessage:"Login"}))))),ne),e.createElement(m.k,{justifyContent:"center"},e.createElement(E.x,{paddingTop:4},e.createElement(L.rU,{to:"/auth/forgot-password"},pe({id:"Auth.link.forgot-password",defaultMessage:"Forgot your password?"})))))};se.defaultProps={children:null,onSubmit(){}},se.propTypes={children:R().node,onSubmit:R().func,schema:R().shape({type:R().string.isRequired}).isRequired},v.Z=se},5365:function(B,v,t){"use strict";var e=t(32735),p=t(60216),y=t.n(p),E=t(954),c=t(1115);const m=A=>e.createElement(E.ZP,null,e.createElement(c.Z,{...A}));m.defaultProps={onSubmit:A=>A.preventDefault()},m.propTypes={onSubmit:y().func},v.Z=m},53951:function(B,v,t){"use strict";t.r(v);var e=t(32735),p=t(27649),y=t(82055),E=t(17e3),c=t(9695),m=t(19565),A=t(8482),M=t(25386),L=t(67879);const x=()=>{const{formatMessage:O}=(0,L.Z)();return(0,m.go)(),e.createElement(p.o,{labelledBy:"title"},e.createElement(y.T,{id:"title",title:O({id:"content-manager.pageNotFound",defaultMessage:"Page not found"})}),e.createElement(E.D,null,e.createElement(c.x,{action:e.createElement(m.Qj,{variant:"secondary",endIcon:e.createElement(A.Z,null),to:"/"},O({id:"app.components.NotFoundPage.back",defaultMessage:"Back to homepage"})),content:O({id:"app.page.not.found",defaultMessage:"Oops! We can't seem to find the page you're looging for..."}),hasRadius:!0,icon:e.createElement(M.Z,{width:"10rem"}),shadow:"tableShadow"})))};v.default=x},41832:function(B,v){"use strict";const t=({data:e})=>{try{return Object.keys(e).reduce((p,y)=>{const E=e[y][0];return p[y]={id:E,defaultMessage:E},p},{})}catch{return{}}};v.Z=t},8997:function(B,v,t){"use strict";t.d(v,{R6:function(){return y},ot:function(){return x},Iz:function(){return O.Z},Pp:function(){return b},IF:function(){return R},Qy:function(){return se},WW:function(){return T}});var e=t(19565),y=async(D,I)=>{let ne=null;try{await I.validate(D,{abortEarly:!1})}catch(Se){ne=(0,e.CJ)(Se)}return ne},E=t(32735),c=t(60216),m=t.n(c),A=t(53038);const M=({loadComponent:D})=>{const[I,ne]=(0,E.useState)(null);return(0,E.useEffect)(()=>{(async()=>{try{const Re=await D();ne(()=>Re.default)}catch(Re){console.log(Re)}})()},[D]),I?E.createElement(I,null):E.createElement(e.dO,null)},L=(D,I,ne)=>E.createElement(A.AW,{render:()=>E.createElement(M,{loadComponent:D}),key:I,path:I,exact:ne||!1});M.propTypes={loadComponent:m().func.isRequired};var x=L,O=t(41832),b=(D,I="")=>[D,I].filter(ne=>ne).join(" "),R=D=>`/admin/${D}`,T=D=>D.filter((I,ne,Se)=>Se.findIndex(Re=>Re.key===I.key)===ne),r=t(98978);const F=D=>sortBy(D,I=>I.name);var a=null;const G={bufferToHex(D){return[...new Uint8Array(D)].map(I=>I.toString(16).padStart(2,"0")).join("")},async digestMessage(D){const I=new TextEncoder().encode(D),ne=await crypto.subtle.digest("SHA-256",I);return this.bufferToHex(ne)}};async function se(D){if(!D)return null;try{return await G.digestMessage(D.email)}catch{return null}}},58414:function(B,v,t){"use strict";t.d(v,{pl:function(){return L},q5:function(){return O.Z}});var e=t(32735),p=t(19565),y=t(8997),E=t(97889);const c={data:[],isLoading:!0};var A=(b,S)=>(0,E.ZP)(b,R=>{switch(S.type){case"GET_DATA_SUCCEEDED":{R.data=S.data,R.isLoading=!1;break}case"GET_DATA_ERROR":{R.isLoading=!1;break}default:return R}}),L=({ssoEnabled:b})=>{const[S,R]=(0,e.useReducer)(A,c),W=(0,p.lm)(),{get:T}=(0,p.kY)();return(0,e.useEffect)(()=>{(async()=>{try{if(!b){R({type:"GET_DATA_SUCCEEDED",data:[]});return}const{data:F}=await T((0,y.IF)("providers"));R({type:"GET_DATA_SUCCEEDED",data:F})}catch(F){console.error(F),R({type:"GET_DATA_ERROR"}),W({type:"warning",message:{id:"notification.error"}})}})()},[T,b,W]),S},x=t(21306),O=t(35153)},21306:function(B,v,t){"use strict";var e=t(32735),p=t(19565),y=t(36866),E=t.n(y),c=t(67879),m=t(53038),A=t(35153);const M="strapi-notification-seat-limit",L="https://cloud.strapi.io/profile/billing",x="https://strapi.io/billing/request-seats",O=()=>{const{formatMessage:b}=(0,c.Z)();let{license:S,isError:R,isLoading:W}=(0,A.Z)();const T=(0,p.lm)(),{pathname:r}=(0,m.TH)(),{enforcementUserCount:F,permittedSeats:a,licenseLimitStatus:G,isHostedOnStrapiCloud:se}=S;(0,e.useEffect)(()=>{if(R||W)return;const D=!E()(a)&&!window.sessionStorage.getItem(`${M}-${r}`)&&(G==="AT_LIMIT"||G==="OVER_LIMIT");let I;G==="OVER_LIMIT"?I="warning":G==="AT_LIMIT"&&(I="softWarning"),D&&T({type:I,message:b({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:G}),title:b({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:G,enforcementUserCount:F,permittedSeats:a}),link:{url:se?L:x,label:b({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:se})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${M}-${r}`,!0)}})},[T,S,r,b,W,a,G,F,se,R])};v.Z=O},35153:function(B,v,t){"use strict";t.d(v,{Z:function(){return A}});var e=t(32735),p=t(19565),y=t(20108),E=t(15062),c=t(78125);function m(){const M=(0,E.v9)(c._),{get:L}=(0,p.kY)(),{isLoading:x,allowedActions:{canRead:O,canCreate:b,canUpdate:S,canDelete:R}}=(0,p.ss)(M.settings.users),W=O&&b&&S&&R,{data:T,isError:r,isLoading:F}=(0,y.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:se}}=await L("/admin/license-limit-information");return se},{enabled:!x&&W}),a=T??{},G=e.useCallback(se=>(a?.features??[]).find(I=>I.name===se)?.options??{},[a?.features]);return{license:a,getFeature:G,isError:r,isLoading:F}}var A=m},98768:function(B,v,t){"use strict";var e=t(32735),p=t(9026),y=t(72850),E=t(87933),c=t(49372),m=t(60216),A=t.n(m),M=t(67879),L=t(8471),x=t(954),O=t(1115),b=t(58414),S=t(33205);const R=(0,L.ZP)(p.i)`
  flex: 1;
`,W=T=>{const r=window.strapi.features.isEnabled(window.strapi.features.SSO),{isLoading:F,data:a}=(0,b.pl)({ssoEnabled:r}),{formatMessage:G}=(0,M.Z)();return!r||!F&&a.length===0?e.createElement(x.ZP,null,e.createElement(O.Z,{...T})):e.createElement(x.ZP,null,e.createElement(O.Z,{...T},e.createElement(y.x,{paddingTop:7},e.createElement(E.k,{direction:"column",alignItems:"stretch",gap:7},e.createElement(E.k,null,e.createElement(R,null),e.createElement(y.x,{paddingLeft:3,paddingRight:3},e.createElement(c.Z,{variant:"sigma",textColor:"neutral600"},G({id:"Auth.login.sso.divider"}))),e.createElement(R,null)),e.createElement(S.Z,{providers:a,displayAllProviders:!1})))))};W.defaultProps={onSubmit:T=>T.preventDefault(),requestError:null},W.propTypes={formErrors:A().object.isRequired,modifiedData:A().object.isRequired,onChange:A().func.isRequired,onSubmit:A().func,requestError:A().object},v.Z=W},33205:function(B,v,t){"use strict";var e=t(32735),p=t(87933),y=t(63919),E=t(49372),c=t(15335),m=t(5803),A=t(60216),M=t.n(A),L=t(67879),x=t(14911),O=t(8471);const b=O.ZP.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:T})=>T.colors.neutral150};
  border-radius: ${({theme:T})=>T.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:T})=>T.colors.neutral600};
`,S=(0,O.ZP)(p.k)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:T})=>T.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:T})=>T.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:T})=>T.spaces[2]};
  }
`,R=({provider:T})=>e.createElement(y.u,{label:T.displayName},e.createElement(b,{href:`${window.strapi.backendURL}/admin/connect/${T.uid}`},T.icon?e.createElement("img",{src:T.icon,"aria-hidden":!0,alt:"",height:"32px"}):e.createElement(E.Z,null,T.displayName)));R.propTypes={provider:M().shape({icon:M().string,displayName:M().string.isRequired,uid:M().string.isRequired}).isRequired};const W=({providers:T,displayAllProviders:r})=>{const{formatMessage:F}=(0,L.Z)();return r?e.createElement(c.r,{gap:4},T.map(a=>e.createElement(m.P,{key:a.uid,col:4},e.createElement(R,{provider:a})))):T.length>2&&!r?e.createElement(c.r,{gap:4},T.slice(0,2).map(a=>e.createElement(m.P,{key:a.uid,col:4},e.createElement(R,{provider:a}))),e.createElement(m.P,{col:4},e.createElement(y.u,{label:F({id:"global.see-more"})},e.createElement(b,{as:x.rU,to:"/auth/providers"},e.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):e.createElement(S,{justifyContent:"center"},T.map(a=>e.createElement(R,{key:a.uid,provider:a})))};W.defaultProps={displayAllProviders:!0},W.propTypes={providers:M().arrayOf(M().object).isRequired,displayAllProviders:M().bool},v.Z=W},48224:function(B,v,t){var e={"./ar.json":[38677,7958],"./ca.json":[90169,3516],"./cs.json":[43186,7519],"./de.json":[8343,6901],"./dk.json":[65668,7898],"./en.json":[10329,320],"./es.json":[45445,8367],"./eu.json":[69511,8360],"./fr.json":[8399,8006],"./gu.json":[10182,2248],"./he.json":[21757,830],"./hi.json":[43206,6332],"./hu.json":[72320,5894],"./id.json":[74221,8897],"./it.json":[90685,6817],"./ja.json":[21727,1312],"./ko.json":[30986,1377],"./ml.json":[11309,9903],"./ms.json":[75973,3025],"./nl.json":[80381,2671],"./no.json":[82446,562],"./pl.json":[84008,7846],"./pt-BR.json":[91417,9647],"./pt.json":[41830,3340],"./ru.json":[57098,123],"./sa.json":[92900,9726],"./sk.json":[52204,606],"./sv.json":[43211,9303],"./th.json":[49582,749],"./tr.json":[99154,395],"./uk.json":[2987,7403],"./vi.json":[50576,3278],"./zh-Hans.json":[35964,2553],"./zh.json":[91999,1011]};function p(y){if(!t.o(e,y))return Promise.resolve().then(function(){var m=new Error("Cannot find module '"+y+"'");throw m.code="MODULE_NOT_FOUND",m});var E=e[y],c=E[0];return t.e(E[1]).then(function(){return t.t(c,19)})}p.keys=function(){return Object.keys(e)},p.id=48224,B.exports=p},47750:function(B,v,t){"use strict";B.exports=t.p+"70674f63fc3904c20de0.svg"}}]);
